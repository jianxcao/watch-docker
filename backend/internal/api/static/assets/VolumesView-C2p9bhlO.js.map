{"version":3,"file":"VolumesView-C2p9bhlO.js","names":[],"sources":["../../src/store/volume.ts","../../src/components/VolumeCard.vue","../../src/components/VolumeCard.vue","../../src/pages/VolumesView.vue","../../src/pages/VolumesView.vue"],"sourcesContent":["import { volumeApi } from '@/common/api'\nimport type { VolumeInfo, VolumeStats } from '@/common/types'\nimport { formatBytes } from '@/common/utils'\nimport { defineStore } from 'pinia'\nimport { computed, ref } from 'vue'\n\nexport const useVolumeStore = defineStore('volume', () => {\n  // 状态\n  const volumes = ref<VolumeInfo[]>([])\n  const loading = ref(false)\n\n  // 计算属性 - 使用中的Volume\n  const usedVolumes = computed(() =>\n    volumes.value.filter((v) => v.usageData && v.usageData.refCount > 0),\n  )\n\n  // 计算属性 - 未使用的Volume\n  const unusedVolumes = computed(() =>\n    volumes.value.filter((v) => !v.usageData || v.usageData.refCount === 0),\n  )\n\n  // 计算属性 - 统计信息\n  const stats = computed<VolumeStats>(() => {\n    const totalSize = volumes.value.reduce((sum, v) => sum + (v.usageData?.size || 0), 0)\n    return {\n      total: volumes.value.length,\n      used: usedVolumes.value.length,\n      unused: unusedVolumes.value.length,\n      totalSize,\n      formattedTotalSize: formatBytes(totalSize),\n    }\n  })\n\n  // 方法：获取Volume列表\n  const fetchVolumes = async () => {\n    loading.value = true\n    try {\n      const data = await volumeApi.getVolumes()\n      if (data.code === 0) {\n        volumes.value = data.data.volumes || []\n      } else {\n        console.error('获取Volume列表失败:', data.msg)\n        throw new Error(data.msg)\n      }\n    } catch (error) {\n      console.error('获取Volume列表失败:', error)\n      throw error\n    } finally {\n      loading.value = false\n    }\n  }\n\n  // 方法：创建Volume\n  const createVolume = async (data: {\n    name: string\n    driver?: string\n    driverOpts?: Record<string, string>\n    labels?: Record<string, string>\n  }) => {\n    try {\n      const response = await volumeApi.createVolume(data)\n      if (response.code === 0) {\n        await fetchVolumes() // 重新获取列表\n        return true\n      } else {\n        throw new Error(response.msg)\n      }\n    } catch (error) {\n      console.error('创建Volume失败:', error)\n      throw error\n    }\n  }\n\n  // 方法：删除Volume\n  const deleteVolume = async (name: string, force: boolean = false) => {\n    try {\n      const response = await volumeApi.deleteVolume(name, force)\n      if (response.code === 0) {\n        await fetchVolumes() // 重新获取列表\n        return true\n      } else {\n        throw new Error(response.msg)\n      }\n    } catch (error) {\n      console.error('删除Volume失败:', error)\n      throw error\n    }\n  }\n\n  // 方法：清理未使用的Volume\n  const pruneVolumes = async () => {\n    try {\n      const response = await volumeApi.pruneVolumes()\n      if (response.code === 0) {\n        await fetchVolumes() // 重新获取列表\n        return response.data\n      } else {\n        throw new Error(response.msg)\n      }\n    } catch (error) {\n      console.error('清理Volume失败:', error)\n      throw error\n    }\n  }\n\n  // 方法：根据名称查找Volume\n  const findVolumeByName = (name: string) => {\n    return volumes.value.find((v) => v.name === name)\n  }\n\n  return {\n    // 状态\n    volumes,\n    loading,\n\n    // 计算属性\n    usedVolumes,\n    unusedVolumes,\n    stats,\n\n    // 方法\n    fetchVolumes,\n    createVolume,\n    deleteVolume,\n    pruneVolumes,\n    findVolumeByName,\n  }\n})\n\n","<template>\n  <div\n    class=\"volume-card\"\n    :data-theme=\"settingStore.setting.theme\"\n    :class=\"{ 'card-used': isUsed }\"\n    @click=\"handleCardClick\"\n  >\n    <!-- 顶部渐变条 -->\n    <div v-if=\"isUsed\" class=\"gradient-bar\"></div>\n\n    <div class=\"card-content\">\n      <!-- Volume头部信息 -->\n      <div class=\"volume-header\">\n        <div class=\"volume-logo\" :class=\"{ 'logo-used': isUsed }\">\n          <n-icon size=\"20\"><VolumeIcon /></n-icon>\n        </div>\n        <div class=\"volume-info\">\n          <n-tooltip :delay=\"500\">\n            <template #trigger>\n              <div class=\"volume-name\">{{ volume.name }}</div>\n            </template>\n            <span>{{ volume.name }}</span>\n          </n-tooltip>\n          <div class=\"volume-metadata\">\n            <div class=\"metadata-item\">\n              <n-icon size=\"14\">\n                <CpuIcon />\n              </n-icon>\n              <span class=\"metadata-label whitespace-nowrap\">驱动:</span>\n              <n-tag round :type=\"isUsed ? 'success' : 'default'\" size=\"small\" :bordered=\"true\">\n                {{ volume.driver }}\n              </n-tag>\n            </div>\n            <div class=\"metadata-divider\"></div>\n            <div class=\"metadata-item\">\n              <span class=\"metadata-label\">作用域:</span>\n              <n-tag round type=\"default\" size=\"small\" :bordered=\"true\">\n                {{ volume.scope === 'local' ? '本地' : '全局' }}\n              </n-tag>\n            </div>\n          </div>\n        </div>\n        <div class=\"volume-menu\">\n          <n-dropdown :options=\"dropdownOptions\" @select=\"handleMenuSelect\" trigger=\"click\">\n            <n-button quaternary circle @click.stop>\n              <template #icon>\n                <n-icon>\n                  <MenuIcon />\n                </n-icon>\n              </template>\n            </n-button>\n          </n-dropdown>\n        </div>\n      </div>\n\n      <!-- 信息卡片 -->\n      <div class=\"info-cards\">\n        <div class=\"info-card\">\n          <div class=\"info-label\">\n            <n-icon size=\"14\">\n              <CalendarIcon />\n            </n-icon>\n            <span>创建时间</span>\n          </div>\n          <div class=\"info-value\">{{ formatCreatedTime(volume.createdAt) }}</div>\n        </div>\n        <div class=\"info-card\">\n          <div class=\"info-label\">\n            <n-icon size=\"14\">\n              <CubeIcon />\n            </n-icon>\n            <span>使用容器</span>\n          </div>\n          <div class=\"info-value-container\">\n            <div class=\"info-value\">{{ volume.usageData?.refCount || 0 }}</div>\n            <div v-if=\"isUsed\" class=\"usage-indicator\"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport MenuIcon from '@/assets/svg/overflowMenuVertical.svg?component'\nimport VolumeIcon from '@/assets/svg/volume.svg?component'\nimport CpuIcon from '@/assets/svg/cpu.svg?component'\nimport type { VolumeInfo } from '@/common/types'\nimport { useSettingStore } from '@/store/setting'\nimport {\n  TrashOutline,\n  CalendarOutline as CalendarIcon,\n  InformationCircleOutline,\n  CubeOutline as CubeIcon,\n} from '@vicons/ionicons5'\nimport dayjs from 'dayjs'\nimport { NIcon, useThemeVars } from 'naive-ui'\nimport { computed, h } from 'vue'\n\nconst settingStore = useSettingStore()\n\ninterface Props {\n  volume: VolumeInfo\n}\n\ninterface Emits {\n  (e: 'delete'): void\n  (e: 'detail'): void\n}\n\nconst props = defineProps<Props>()\nconst theme = useThemeVars()\nconst emits = defineEmits<Emits>()\n\n// 是否正在使用\nconst isUsed = computed(() => (props.volume.usageData?.refCount || 0) > 0)\n\n// 格式化创建时间\nconst formatCreatedTime = (createdAt: string): string => {\n  if (!createdAt) {\n    return '-'\n  }\n  return dayjs(createdAt).format('YYYY-MM-DD HH:mm')\n}\n\n// 下拉菜单选项\nconst dropdownOptions = computed(() => [\n  {\n    key: 'detail',\n    label: '查看详情',\n    icon: () =>\n      h(NIcon, null, {\n        default: () => h(InformationCircleOutline),\n      }),\n  },\n  {\n    key: 'delete',\n    label: '删除Volume',\n    icon: () =>\n      h(\n        NIcon,\n        {\n          color: theme.value.errorColor,\n        },\n        {\n          default: () => h(TrashOutline),\n        },\n      ),\n  },\n])\n\n// 处理下拉菜单选择\nconst handleMenuSelect = (key: string) => {\n  switch (key) {\n    case 'detail':\n      emits('detail')\n      break\n    case 'delete':\n      emits('delete')\n      break\n  }\n}\n\n// 处理卡片点击\nconst handleCardClick = () => {\n  emits('detail')\n}\n</script>\n\n<style scoped lang=\"less\">\n.volume-card {\n  &[data-theme='light'] {\n    --volume-card-background-color: #ffffff;\n    --volume-info-background-color: rgba(251, 249, 250, 0.7);\n    &.card-used {\n      background-color: transparent;\n      background-image: linear-gradient(\n        to right bottom,\n        oklch(0.979 0.021 166.113) 0%,\n        rgb(255, 255, 255) 100%\n      );\n    }\n  }\n\n  --volume-card-background-color: #0a0a0a;\n  --volume-geen-color: #00bc7d;\n  --volume-info-background-color: oklab(0.269 0 0 / 0.3);\n  position: relative;\n  border-radius: 14px;\n  padding: 12px;\n  transition: all 0.3s ease;\n  overflow: hidden;\n  cursor: pointer;\n  border: 1px solid var(--border-color);\n  min-width: 320px;\n  background-color: var(--volume-card-background-color);\n  &:hover {\n    transform: translateY(-2px);\n  }\n\n  // 使用中的卡片样式\n  &.card-used {\n    border: 1px solid color-mix(in srgb, var(--volume-geen-color) 50%, transparent);\n    box-shadow:\n      0px 4px 6px -4px color-mix(in srgb, var(--volume-geen-color) 10%, transparent),\n      0px 10px 15px -3px color-mix(in srgb, var(--volume-geen-color) 10%, transparent);\n  }\n\n  // 顶部渐变条\n  .gradient-bar {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 2px;\n    background: linear-gradient(\n      90deg,\n      var(--volume-geen-color) 0%,\n      color-mix(in srgb, var(--volume-geen-color) 90%, transparent) 100%\n    );\n  }\n\n  .card-content {\n    display: flex;\n    flex-direction: column;\n    gap: 12px;\n  }\n\n  .volume-header {\n    display: flex;\n    gap: 12px;\n    align-items: flex-start;\n\n    .volume-logo {\n      width: 40px;\n      height: 40px;\n      border-radius: 10px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      border: 1px solid var(--border-color);\n      &.logo-used {\n        color: var(--volume-geen-color);\n        background: color-mix(in srgb, var(--volume-geen-color) 10%, transparent);\n        border: 1px solid color-mix(in srgb, var(--volume-geen-color) 10%, transparent);\n      }\n    }\n\n    .volume-info {\n      flex: 1;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      overflow: hidden;\n      min-width: 0;\n\n      .volume-name {\n        font-size: 16px;\n        font-weight: 400;\n        line-height: 1.5;\n        color: var(--text-color-1);\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        cursor: pointer;\n      }\n\n      .volume-metadata {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        height: 22px;\n\n        .metadata-item {\n          display: flex;\n          align-items: center;\n          gap: 6px;\n        }\n        .metadata-label {\n          color: var(--text-color-3);\n        }\n\n        .metadata-divider {\n          width: 1px;\n          height: 12px;\n          background: var(--border-color);\n        }\n      }\n    }\n\n    .volume-menu {\n      flex-shrink: 0;\n    }\n  }\n\n  .info-cards {\n    display: flex;\n    flex-direction: column;\n    gap: 12px;\n\n    .info-card {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 0 12px;\n      background: var(--volume-info-background-color);\n      border-radius: 10px;\n      min-height: 40px;\n\n      .info-label {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        font-size: 14px;\n        font-weight: 400;\n        color: var(--text-color-3);\n      }\n\n      .info-value {\n        font-size: 14px;\n        font-weight: 400;\n        color: var(--text-color-1);\n      }\n\n      .info-value-container {\n        display: flex;\n        align-items: center;\n        gap: 6px;\n\n        .usage-indicator {\n          width: 6px;\n          height: 6px;\n          border-radius: 50%;\n          background: var(--volume-geen-color);\n          opacity: 0.8;\n        }\n      }\n    }\n  }\n}\n</style>\n","<template>\n  <div\n    class=\"volume-card\"\n    :data-theme=\"settingStore.setting.theme\"\n    :class=\"{ 'card-used': isUsed }\"\n    @click=\"handleCardClick\"\n  >\n    <!-- 顶部渐变条 -->\n    <div v-if=\"isUsed\" class=\"gradient-bar\"></div>\n\n    <div class=\"card-content\">\n      <!-- Volume头部信息 -->\n      <div class=\"volume-header\">\n        <div class=\"volume-logo\" :class=\"{ 'logo-used': isUsed }\">\n          <n-icon size=\"20\"><VolumeIcon /></n-icon>\n        </div>\n        <div class=\"volume-info\">\n          <n-tooltip :delay=\"500\">\n            <template #trigger>\n              <div class=\"volume-name\">{{ volume.name }}</div>\n            </template>\n            <span>{{ volume.name }}</span>\n          </n-tooltip>\n          <div class=\"volume-metadata\">\n            <div class=\"metadata-item\">\n              <n-icon size=\"14\">\n                <CpuIcon />\n              </n-icon>\n              <span class=\"metadata-label whitespace-nowrap\">驱动:</span>\n              <n-tag round :type=\"isUsed ? 'success' : 'default'\" size=\"small\" :bordered=\"true\">\n                {{ volume.driver }}\n              </n-tag>\n            </div>\n            <div class=\"metadata-divider\"></div>\n            <div class=\"metadata-item\">\n              <span class=\"metadata-label\">作用域:</span>\n              <n-tag round type=\"default\" size=\"small\" :bordered=\"true\">\n                {{ volume.scope === 'local' ? '本地' : '全局' }}\n              </n-tag>\n            </div>\n          </div>\n        </div>\n        <div class=\"volume-menu\">\n          <n-dropdown :options=\"dropdownOptions\" @select=\"handleMenuSelect\" trigger=\"click\">\n            <n-button quaternary circle @click.stop>\n              <template #icon>\n                <n-icon>\n                  <MenuIcon />\n                </n-icon>\n              </template>\n            </n-button>\n          </n-dropdown>\n        </div>\n      </div>\n\n      <!-- 信息卡片 -->\n      <div class=\"info-cards\">\n        <div class=\"info-card\">\n          <div class=\"info-label\">\n            <n-icon size=\"14\">\n              <CalendarIcon />\n            </n-icon>\n            <span>创建时间</span>\n          </div>\n          <div class=\"info-value\">{{ formatCreatedTime(volume.createdAt) }}</div>\n        </div>\n        <div class=\"info-card\">\n          <div class=\"info-label\">\n            <n-icon size=\"14\">\n              <CubeIcon />\n            </n-icon>\n            <span>使用容器</span>\n          </div>\n          <div class=\"info-value-container\">\n            <div class=\"info-value\">{{ volume.usageData?.refCount || 0 }}</div>\n            <div v-if=\"isUsed\" class=\"usage-indicator\"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport MenuIcon from '@/assets/svg/overflowMenuVertical.svg?component'\nimport VolumeIcon from '@/assets/svg/volume.svg?component'\nimport CpuIcon from '@/assets/svg/cpu.svg?component'\nimport type { VolumeInfo } from '@/common/types'\nimport { useSettingStore } from '@/store/setting'\nimport {\n  TrashOutline,\n  CalendarOutline as CalendarIcon,\n  InformationCircleOutline,\n  CubeOutline as CubeIcon,\n} from '@vicons/ionicons5'\nimport dayjs from 'dayjs'\nimport { NIcon, useThemeVars } from 'naive-ui'\nimport { computed, h } from 'vue'\n\nconst settingStore = useSettingStore()\n\ninterface Props {\n  volume: VolumeInfo\n}\n\ninterface Emits {\n  (e: 'delete'): void\n  (e: 'detail'): void\n}\n\nconst props = defineProps<Props>()\nconst theme = useThemeVars()\nconst emits = defineEmits<Emits>()\n\n// 是否正在使用\nconst isUsed = computed(() => (props.volume.usageData?.refCount || 0) > 0)\n\n// 格式化创建时间\nconst formatCreatedTime = (createdAt: string): string => {\n  if (!createdAt) {\n    return '-'\n  }\n  return dayjs(createdAt).format('YYYY-MM-DD HH:mm')\n}\n\n// 下拉菜单选项\nconst dropdownOptions = computed(() => [\n  {\n    key: 'detail',\n    label: '查看详情',\n    icon: () =>\n      h(NIcon, null, {\n        default: () => h(InformationCircleOutline),\n      }),\n  },\n  {\n    key: 'delete',\n    label: '删除Volume',\n    icon: () =>\n      h(\n        NIcon,\n        {\n          color: theme.value.errorColor,\n        },\n        {\n          default: () => h(TrashOutline),\n        },\n      ),\n  },\n])\n\n// 处理下拉菜单选择\nconst handleMenuSelect = (key: string) => {\n  switch (key) {\n    case 'detail':\n      emits('detail')\n      break\n    case 'delete':\n      emits('delete')\n      break\n  }\n}\n\n// 处理卡片点击\nconst handleCardClick = () => {\n  emits('detail')\n}\n</script>\n\n<style scoped lang=\"less\">\n.volume-card {\n  &[data-theme='light'] {\n    --volume-card-background-color: #ffffff;\n    --volume-info-background-color: rgba(251, 249, 250, 0.7);\n    &.card-used {\n      background-color: transparent;\n      background-image: linear-gradient(\n        to right bottom,\n        oklch(0.979 0.021 166.113) 0%,\n        rgb(255, 255, 255) 100%\n      );\n    }\n  }\n\n  --volume-card-background-color: #0a0a0a;\n  --volume-geen-color: #00bc7d;\n  --volume-info-background-color: oklab(0.269 0 0 / 0.3);\n  position: relative;\n  border-radius: 14px;\n  padding: 12px;\n  transition: all 0.3s ease;\n  overflow: hidden;\n  cursor: pointer;\n  border: 1px solid var(--border-color);\n  min-width: 320px;\n  background-color: var(--volume-card-background-color);\n  &:hover {\n    transform: translateY(-2px);\n  }\n\n  // 使用中的卡片样式\n  &.card-used {\n    border: 1px solid color-mix(in srgb, var(--volume-geen-color) 50%, transparent);\n    box-shadow:\n      0px 4px 6px -4px color-mix(in srgb, var(--volume-geen-color) 10%, transparent),\n      0px 10px 15px -3px color-mix(in srgb, var(--volume-geen-color) 10%, transparent);\n  }\n\n  // 顶部渐变条\n  .gradient-bar {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 2px;\n    background: linear-gradient(\n      90deg,\n      var(--volume-geen-color) 0%,\n      color-mix(in srgb, var(--volume-geen-color) 90%, transparent) 100%\n    );\n  }\n\n  .card-content {\n    display: flex;\n    flex-direction: column;\n    gap: 12px;\n  }\n\n  .volume-header {\n    display: flex;\n    gap: 12px;\n    align-items: flex-start;\n\n    .volume-logo {\n      width: 40px;\n      height: 40px;\n      border-radius: 10px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      border: 1px solid var(--border-color);\n      &.logo-used {\n        color: var(--volume-geen-color);\n        background: color-mix(in srgb, var(--volume-geen-color) 10%, transparent);\n        border: 1px solid color-mix(in srgb, var(--volume-geen-color) 10%, transparent);\n      }\n    }\n\n    .volume-info {\n      flex: 1;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      overflow: hidden;\n      min-width: 0;\n\n      .volume-name {\n        font-size: 16px;\n        font-weight: 400;\n        line-height: 1.5;\n        color: var(--text-color-1);\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        cursor: pointer;\n      }\n\n      .volume-metadata {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        height: 22px;\n\n        .metadata-item {\n          display: flex;\n          align-items: center;\n          gap: 6px;\n        }\n        .metadata-label {\n          color: var(--text-color-3);\n        }\n\n        .metadata-divider {\n          width: 1px;\n          height: 12px;\n          background: var(--border-color);\n        }\n      }\n    }\n\n    .volume-menu {\n      flex-shrink: 0;\n    }\n  }\n\n  .info-cards {\n    display: flex;\n    flex-direction: column;\n    gap: 12px;\n\n    .info-card {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 0 12px;\n      background: var(--volume-info-background-color);\n      border-radius: 10px;\n      min-height: 40px;\n\n      .info-label {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        font-size: 14px;\n        font-weight: 400;\n        color: var(--text-color-3);\n      }\n\n      .info-value {\n        font-size: 14px;\n        font-weight: 400;\n        color: var(--text-color-1);\n      }\n\n      .info-value-container {\n        display: flex;\n        align-items: center;\n        gap: 6px;\n\n        .usage-indicator {\n          width: 6px;\n          height: 6px;\n          border-radius: 50%;\n          background: var(--volume-geen-color);\n          opacity: 0.8;\n        }\n      }\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"volumes-page\">\n    <!-- 页面头部：搜索、过滤、排序 -->\n    <n-space>\n      <!-- 过滤器菜单 -->\n      <n-dropdown :options=\"statusFilterMenuOptions\" @select=\"handleFilterSelect\">\n        <n-button circle size=\"small\" :type=\"statusFilter ? 'primary' : 'default'\">\n          <template #icon>\n            <n-icon>\n              <FunnelOutline />\n            </n-icon>\n          </template>\n        </n-button>\n      </n-dropdown>\n\n      <!-- 排序菜单 -->\n      <n-dropdown :options=\"sortMenuOptions\" @select=\"handleSortSelect\">\n        <n-button circle size=\"small\" :type=\"isSortActive ? 'primary' : 'default'\">\n          <template #icon>\n            <n-icon>\n              <SwapVerticalOutline />\n            </n-icon>\n          </template>\n        </n-button>\n      </n-dropdown>\n\n      <!-- 搜索框 -->\n      <n-input\n        v-model:value=\"searchKeyword\"\n        placeholder=\"名称、驱动或挂载点\"\n        clearable\n        class=\"lg:w-[400px]!\"\n      >\n        <template #prefix>\n          <n-icon>\n            <SearchOutline />\n          </n-icon>\n        </template>\n      </n-input>\n    </n-space>\n\n    <!-- Volume 列表 -->\n    <div class=\"volumes-content\">\n      <n-spin :show=\"volumeStore.loading && filteredVolumes.length === 0\">\n        <!-- 空状态 -->\n        <div v-if=\"filteredVolumes.length === 0 && !volumeStore.loading\" class=\"empty-state\">\n          <n-empty description=\"没有找到 Volume\">\n            <template #extra>\n              <n-button @click=\"handleRefresh\">刷新数据</n-button>\n            </template>\n          </n-empty>\n        </div>\n\n        <!-- Volume 卡片网格 -->\n        <div\n          v-else\n          class=\"volumes-grid\"\n          :class=\"{\n            'grid-cols-1': isMobile,\n            'grid-cols-2': isTablet,\n            'grid-cols-3': isLaptop || isDesktop,\n            'grid-cols-4': isDesktopLarge,\n          }\"\n        >\n          <VolumeCard\n            v-for=\"volume in filteredVolumes\"\n            :key=\"volume.name\"\n            :volume=\"volume\"\n            @delete=\"() => handleDelete(volume)\"\n            @detail=\"() => handleDetail(volume)\"\n          />\n        </div>\n      </n-spin>\n    </div>\n\n    <!-- Teleport 到页面头部 -->\n    <Teleport to=\"#header\" defer>\n      <div class=\"welcome-card\">\n        <div>\n          <n-h2 class=\"m-0 text-lg\">Volume 管理</n-h2>\n          <n-text depth=\"3\" class=\"text-xs max-md:hidden\">\n            共 {{ volumeStore.stats.total }} 个 Volume， 总大小\n            {{ volumeStore.stats.formattedTotalSize }}， 使用中 {{ volumeStore.stats.used }} 个\n          </n-text>\n        </div>\n        <div class=\"flex gap-2\">\n          <!-- 刷新按钮 -->\n          <n-button @click=\"handleRefresh\" :loading=\"volumeStore.loading\" circle size=\"tiny\">\n            <template #icon>\n              <n-icon>\n                <RefreshOutline />\n              </n-icon>\n            </template>\n          </n-button>\n          <!-- 清理按钮 -->\n          <n-button @click=\"handlePrune\" circle tertiary size=\"tiny\">\n            <template #icon>\n              <n-icon>\n                <TrashOutline />\n              </n-icon>\n            </template>\n          </n-button>\n        </div>\n      </div>\n    </Teleport>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useVolumeStore } from '@/store/volume'\nimport { useResponsive } from '@/hooks/useResponsive'\nimport { renderIcon } from '@/common/utils'\nimport VolumeCard from '@/components/VolumeCard.vue'\nimport type { VolumeInfo } from '@/common/types'\nimport {\n  SearchOutline,\n  RefreshOutline,\n  FunnelOutline,\n  SwapVerticalOutline,\n  AppsOutline,\n  CheckmarkCircleOutline,\n  CloseCircleOutline,\n  HomeOutline,\n  GlobeOutline,\n  TextOutline,\n  CalendarOutline,\n  ArchiveOutline,\n  TrashOutline,\n} from '@vicons/ionicons5'\nimport { useDialog, useMessage } from 'naive-ui'\n\nconst volumeStore = useVolumeStore()\nconst { isMobile, isTablet, isLaptop, isDesktop, isDesktopLarge } = useResponsive()\nconst router = useRouter()\nconst dialog = useDialog()\nconst message = useMessage()\n\n// 搜索和过滤状态\nconst searchKeyword = ref('')\nconst statusFilter = ref<string | null>(null)\nconst sortBy = ref<string>('name') // 默认按名称排序\nconst sortOrder = ref<'asc' | 'desc'>('asc') // 排序方向，默认升序\n\n// 过滤菜单选项\nconst statusFilterMenuOptions = computed(() => [\n  {\n    label: '全部',\n    key: null,\n    icon: renderIcon(AppsOutline),\n  },\n  {\n    label: '使用中',\n    key: 'used',\n    icon: renderIcon(CheckmarkCircleOutline),\n  },\n  {\n    label: '未使用',\n    key: 'unused',\n    icon: renderIcon(CloseCircleOutline),\n  },\n  {\n    label: '本地作用域',\n    key: 'local',\n    icon: renderIcon(HomeOutline),\n  },\n  {\n    label: '全局作用域',\n    key: 'global',\n    icon: renderIcon(GlobeOutline),\n  },\n])\n\n// 排序菜单选项\nconst sortMenuOptions = computed(() => [\n  {\n    label: `名称 ${sortBy.value === 'name' ? (sortOrder.value === 'asc' ? '↑' : '↓') : ''}`,\n    key: 'name',\n    icon: renderIcon(TextOutline),\n  },\n  {\n    label: `创建时间 ${sortBy.value === 'created' ? (sortOrder.value === 'asc' ? '↑' : '↓') : ''}`,\n    key: 'created',\n    icon: renderIcon(CalendarOutline),\n  },\n  {\n    label: `大小 ${sortBy.value === 'size' ? (sortOrder.value === 'asc' ? '↑' : '↓') : ''}`,\n    key: 'size',\n    icon: renderIcon(ArchiveOutline),\n  },\n])\n\n// 处理过滤器菜单选择\nconst handleFilterSelect = (key: string | null) => {\n  statusFilter.value = key\n}\n\n// 判断排序按钮是否应该显示为主色（激活状态）\nconst isSortActive = computed(() => {\n  return sortBy.value !== 'name' || sortOrder.value !== 'asc'\n})\n\n// 处理排序菜单选择\nconst handleSortSelect = (key: string) => {\n  if (sortBy.value === key) {\n    // 如果选择的是相同字段，切换升序/降序\n    sortOrder.value = sortOrder.value === 'asc' ? 'desc' : 'asc'\n  } else {\n    // 如果选择的是不同字段，设置新字段并默认为升序\n    sortBy.value = key\n    sortOrder.value = 'asc'\n  }\n}\n\n// 过滤和排序后的 Volume 列表\nconst filteredVolumes = computed(() => {\n  let volumes = volumeStore.volumes\n\n  // 1. 搜索过滤\n  if (searchKeyword.value) {\n    const keyword = searchKeyword.value.toLowerCase()\n    volumes = volumes.filter((volume) => {\n      // 搜索 Volume 名称\n      const matchesName = volume.name.toLowerCase().includes(keyword)\n\n      // 搜索驱动类型\n      const matchesDriver = volume.driver.toLowerCase().includes(keyword)\n\n      // 搜索挂载点\n      const matchesMountpoint = volume.mountpoint.toLowerCase().includes(keyword)\n\n      return matchesName || matchesDriver || matchesMountpoint\n    })\n  }\n\n  // 2. 状态过滤\n  if (statusFilter.value) {\n    volumes = volumes.filter((volume) => {\n      switch (statusFilter.value) {\n        case 'used':\n          return volume.usageData && volume.usageData.refCount > 0\n        case 'unused':\n          return !volume.usageData || volume.usageData.refCount === 0\n        case 'local':\n          return volume.scope === 'local'\n        case 'global':\n          return volume.scope === 'global'\n        default:\n          return true\n      }\n    })\n  }\n\n  // 3. 排序\n  return volumes.sort((a, b) => {\n    let result = 0\n\n    switch (sortBy.value) {\n      case 'name':\n        result = a.name.localeCompare(b.name)\n        break\n      case 'created':\n        result = new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime()\n        break\n      case 'size':\n        const sizeA = a.usageData?.size || 0\n        const sizeB = b.usageData?.size || 0\n        result = sizeA - sizeB\n        break\n      default:\n        result = 0\n    }\n\n    // 根据排序方向调整结果\n    return sortOrder.value === 'asc' ? result : -result\n  })\n})\n\n// 处理删除Volume\nconst handleDelete = async (volume: VolumeInfo) => {\n  const refCount = volume.usageData?.refCount || 0\n\n  if (refCount > 0) {\n    dialog.warning({\n      title: '无法删除',\n      content: `此 Volume 正在被 ${refCount} 个容器使用，无法删除。请先停止或删除使用该 Volume 的容器。`,\n      positiveText: '知道了',\n    })\n    return\n  }\n\n  const d = dialog.warning({\n    title: '确认删除',\n    content: `确定要删除 Volume \"${volume.name}\" 吗？此操作不可恢复。`,\n    positiveText: '删除',\n    negativeText: '取消',\n    onPositiveClick: async () => {\n      try {\n        d.loading = true\n        await volumeStore.deleteVolume(volume.name, false)\n        message.success('Volume 删除成功')\n      } catch (error: any) {\n        message.error(`删除失败：${error.message || '未知错误'}`)\n      } finally {\n        d.loading = false\n      }\n    },\n  })\n}\n\n// 处理查看详情\nconst handleDetail = (volume: VolumeInfo) => {\n  router.push(`/volumes/${volume.name}`)\n}\n\n// 处理刷新\nconst handleRefresh = async () => {\n  try {\n    await volumeStore.fetchVolumes()\n  } catch (error: any) {\n    message.error(`刷新失败：${error.message || '未知错误'}`)\n  }\n}\n\n// 处理清理未使用的Volume\nconst handlePrune = () => {\n  const unusedCount = volumeStore.unusedVolumes.length\n\n  if (unusedCount === 0) {\n    message.info('没有未使用的 Volume 需要清理')\n    return\n  }\n\n  const d = dialog.warning({\n    title: '确认清理',\n    content: `确定要清理 ${unusedCount} 个未使用的 Volume 吗？此操作不可恢复。`,\n    positiveText: '清理',\n    negativeText: '取消',\n    onPositiveClick: async () => {\n      try {\n        d.loading = true\n        const result = await volumeStore.pruneVolumes()\n        const deletedCount = result.volumesDeleted?.length || 0\n        message.success(`清理成功，删除了 ${deletedCount} 个 Volume`)\n      } catch (error: any) {\n        message.error(`清理失败：${error.message || '未知错误'}`)\n      } finally {\n        d.loading = false\n      }\n    },\n  })\n}\n\n// 页面初始化\nonMounted(async () => {\n  await volumeStore.fetchVolumes()\n})\n</script>\n\n<style scoped lang=\"less\">\n.welcome-card {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-direction: row;\n  height: 100%;\n}\n\n.volumes-page {\n  width: 100%;\n\n  .volumes-content {\n    position: relative;\n    min-height: 400px;\n    padding-top: 16px;\n\n    .n-spin-container {\n      min-height: 400px;\n    }\n  }\n\n  .empty-state {\n    padding: 60px 0;\n    text-align: center;\n  }\n\n  .volumes-grid {\n    display: grid;\n    gap: 16px;\n\n    &.grid-cols-1 {\n      grid-template-columns: 1fr;\n    }\n\n    &.grid-cols-2 {\n      grid-template-columns: repeat(2, minmax(1fr, 50%));\n    }\n\n    &.grid-cols-3 {\n      grid-template-columns: repeat(3, minmax(1fr, 33.33%));\n    }\n\n    &.grid-cols-4 {\n      grid-template-columns: repeat(4, minmax(1fr, 25%));\n    }\n  }\n}\n\n// 响应式调整\n@media (max-width: 768px) {\n  .volumes-page {\n    .volumes-grid {\n      gap: 8px;\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"volumes-page\">\n    <!-- 页面头部：搜索、过滤、排序 -->\n    <n-space>\n      <!-- 过滤器菜单 -->\n      <n-dropdown :options=\"statusFilterMenuOptions\" @select=\"handleFilterSelect\">\n        <n-button circle size=\"small\" :type=\"statusFilter ? 'primary' : 'default'\">\n          <template #icon>\n            <n-icon>\n              <FunnelOutline />\n            </n-icon>\n          </template>\n        </n-button>\n      </n-dropdown>\n\n      <!-- 排序菜单 -->\n      <n-dropdown :options=\"sortMenuOptions\" @select=\"handleSortSelect\">\n        <n-button circle size=\"small\" :type=\"isSortActive ? 'primary' : 'default'\">\n          <template #icon>\n            <n-icon>\n              <SwapVerticalOutline />\n            </n-icon>\n          </template>\n        </n-button>\n      </n-dropdown>\n\n      <!-- 搜索框 -->\n      <n-input\n        v-model:value=\"searchKeyword\"\n        placeholder=\"名称、驱动或挂载点\"\n        clearable\n        class=\"lg:w-[400px]!\"\n      >\n        <template #prefix>\n          <n-icon>\n            <SearchOutline />\n          </n-icon>\n        </template>\n      </n-input>\n    </n-space>\n\n    <!-- Volume 列表 -->\n    <div class=\"volumes-content\">\n      <n-spin :show=\"volumeStore.loading && filteredVolumes.length === 0\">\n        <!-- 空状态 -->\n        <div v-if=\"filteredVolumes.length === 0 && !volumeStore.loading\" class=\"empty-state\">\n          <n-empty description=\"没有找到 Volume\">\n            <template #extra>\n              <n-button @click=\"handleRefresh\">刷新数据</n-button>\n            </template>\n          </n-empty>\n        </div>\n\n        <!-- Volume 卡片网格 -->\n        <div\n          v-else\n          class=\"volumes-grid\"\n          :class=\"{\n            'grid-cols-1': isMobile,\n            'grid-cols-2': isTablet,\n            'grid-cols-3': isLaptop || isDesktop,\n            'grid-cols-4': isDesktopLarge,\n          }\"\n        >\n          <VolumeCard\n            v-for=\"volume in filteredVolumes\"\n            :key=\"volume.name\"\n            :volume=\"volume\"\n            @delete=\"() => handleDelete(volume)\"\n            @detail=\"() => handleDetail(volume)\"\n          />\n        </div>\n      </n-spin>\n    </div>\n\n    <!-- Teleport 到页面头部 -->\n    <Teleport to=\"#header\" defer>\n      <div class=\"welcome-card\">\n        <div>\n          <n-h2 class=\"m-0 text-lg\">Volume 管理</n-h2>\n          <n-text depth=\"3\" class=\"text-xs max-md:hidden\">\n            共 {{ volumeStore.stats.total }} 个 Volume， 总大小\n            {{ volumeStore.stats.formattedTotalSize }}， 使用中 {{ volumeStore.stats.used }} 个\n          </n-text>\n        </div>\n        <div class=\"flex gap-2\">\n          <!-- 刷新按钮 -->\n          <n-button @click=\"handleRefresh\" :loading=\"volumeStore.loading\" circle size=\"tiny\">\n            <template #icon>\n              <n-icon>\n                <RefreshOutline />\n              </n-icon>\n            </template>\n          </n-button>\n          <!-- 清理按钮 -->\n          <n-button @click=\"handlePrune\" circle tertiary size=\"tiny\">\n            <template #icon>\n              <n-icon>\n                <TrashOutline />\n              </n-icon>\n            </template>\n          </n-button>\n        </div>\n      </div>\n    </Teleport>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useVolumeStore } from '@/store/volume'\nimport { useResponsive } from '@/hooks/useResponsive'\nimport { renderIcon } from '@/common/utils'\nimport VolumeCard from '@/components/VolumeCard.vue'\nimport type { VolumeInfo } from '@/common/types'\nimport {\n  SearchOutline,\n  RefreshOutline,\n  FunnelOutline,\n  SwapVerticalOutline,\n  AppsOutline,\n  CheckmarkCircleOutline,\n  CloseCircleOutline,\n  HomeOutline,\n  GlobeOutline,\n  TextOutline,\n  CalendarOutline,\n  ArchiveOutline,\n  TrashOutline,\n} from '@vicons/ionicons5'\nimport { useDialog, useMessage } from 'naive-ui'\n\nconst volumeStore = useVolumeStore()\nconst { isMobile, isTablet, isLaptop, isDesktop, isDesktopLarge } = useResponsive()\nconst router = useRouter()\nconst dialog = useDialog()\nconst message = useMessage()\n\n// 搜索和过滤状态\nconst searchKeyword = ref('')\nconst statusFilter = ref<string | null>(null)\nconst sortBy = ref<string>('name') // 默认按名称排序\nconst sortOrder = ref<'asc' | 'desc'>('asc') // 排序方向，默认升序\n\n// 过滤菜单选项\nconst statusFilterMenuOptions = computed(() => [\n  {\n    label: '全部',\n    key: null,\n    icon: renderIcon(AppsOutline),\n  },\n  {\n    label: '使用中',\n    key: 'used',\n    icon: renderIcon(CheckmarkCircleOutline),\n  },\n  {\n    label: '未使用',\n    key: 'unused',\n    icon: renderIcon(CloseCircleOutline),\n  },\n  {\n    label: '本地作用域',\n    key: 'local',\n    icon: renderIcon(HomeOutline),\n  },\n  {\n    label: '全局作用域',\n    key: 'global',\n    icon: renderIcon(GlobeOutline),\n  },\n])\n\n// 排序菜单选项\nconst sortMenuOptions = computed(() => [\n  {\n    label: `名称 ${sortBy.value === 'name' ? (sortOrder.value === 'asc' ? '↑' : '↓') : ''}`,\n    key: 'name',\n    icon: renderIcon(TextOutline),\n  },\n  {\n    label: `创建时间 ${sortBy.value === 'created' ? (sortOrder.value === 'asc' ? '↑' : '↓') : ''}`,\n    key: 'created',\n    icon: renderIcon(CalendarOutline),\n  },\n  {\n    label: `大小 ${sortBy.value === 'size' ? (sortOrder.value === 'asc' ? '↑' : '↓') : ''}`,\n    key: 'size',\n    icon: renderIcon(ArchiveOutline),\n  },\n])\n\n// 处理过滤器菜单选择\nconst handleFilterSelect = (key: string | null) => {\n  statusFilter.value = key\n}\n\n// 判断排序按钮是否应该显示为主色（激活状态）\nconst isSortActive = computed(() => {\n  return sortBy.value !== 'name' || sortOrder.value !== 'asc'\n})\n\n// 处理排序菜单选择\nconst handleSortSelect = (key: string) => {\n  if (sortBy.value === key) {\n    // 如果选择的是相同字段，切换升序/降序\n    sortOrder.value = sortOrder.value === 'asc' ? 'desc' : 'asc'\n  } else {\n    // 如果选择的是不同字段，设置新字段并默认为升序\n    sortBy.value = key\n    sortOrder.value = 'asc'\n  }\n}\n\n// 过滤和排序后的 Volume 列表\nconst filteredVolumes = computed(() => {\n  let volumes = volumeStore.volumes\n\n  // 1. 搜索过滤\n  if (searchKeyword.value) {\n    const keyword = searchKeyword.value.toLowerCase()\n    volumes = volumes.filter((volume) => {\n      // 搜索 Volume 名称\n      const matchesName = volume.name.toLowerCase().includes(keyword)\n\n      // 搜索驱动类型\n      const matchesDriver = volume.driver.toLowerCase().includes(keyword)\n\n      // 搜索挂载点\n      const matchesMountpoint = volume.mountpoint.toLowerCase().includes(keyword)\n\n      return matchesName || matchesDriver || matchesMountpoint\n    })\n  }\n\n  // 2. 状态过滤\n  if (statusFilter.value) {\n    volumes = volumes.filter((volume) => {\n      switch (statusFilter.value) {\n        case 'used':\n          return volume.usageData && volume.usageData.refCount > 0\n        case 'unused':\n          return !volume.usageData || volume.usageData.refCount === 0\n        case 'local':\n          return volume.scope === 'local'\n        case 'global':\n          return volume.scope === 'global'\n        default:\n          return true\n      }\n    })\n  }\n\n  // 3. 排序\n  return volumes.sort((a, b) => {\n    let result = 0\n\n    switch (sortBy.value) {\n      case 'name':\n        result = a.name.localeCompare(b.name)\n        break\n      case 'created':\n        result = new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime()\n        break\n      case 'size':\n        const sizeA = a.usageData?.size || 0\n        const sizeB = b.usageData?.size || 0\n        result = sizeA - sizeB\n        break\n      default:\n        result = 0\n    }\n\n    // 根据排序方向调整结果\n    return sortOrder.value === 'asc' ? result : -result\n  })\n})\n\n// 处理删除Volume\nconst handleDelete = async (volume: VolumeInfo) => {\n  const refCount = volume.usageData?.refCount || 0\n\n  if (refCount > 0) {\n    dialog.warning({\n      title: '无法删除',\n      content: `此 Volume 正在被 ${refCount} 个容器使用，无法删除。请先停止或删除使用该 Volume 的容器。`,\n      positiveText: '知道了',\n    })\n    return\n  }\n\n  const d = dialog.warning({\n    title: '确认删除',\n    content: `确定要删除 Volume \"${volume.name}\" 吗？此操作不可恢复。`,\n    positiveText: '删除',\n    negativeText: '取消',\n    onPositiveClick: async () => {\n      try {\n        d.loading = true\n        await volumeStore.deleteVolume(volume.name, false)\n        message.success('Volume 删除成功')\n      } catch (error: any) {\n        message.error(`删除失败：${error.message || '未知错误'}`)\n      } finally {\n        d.loading = false\n      }\n    },\n  })\n}\n\n// 处理查看详情\nconst handleDetail = (volume: VolumeInfo) => {\n  router.push(`/volumes/${volume.name}`)\n}\n\n// 处理刷新\nconst handleRefresh = async () => {\n  try {\n    await volumeStore.fetchVolumes()\n  } catch (error: any) {\n    message.error(`刷新失败：${error.message || '未知错误'}`)\n  }\n}\n\n// 处理清理未使用的Volume\nconst handlePrune = () => {\n  const unusedCount = volumeStore.unusedVolumes.length\n\n  if (unusedCount === 0) {\n    message.info('没有未使用的 Volume 需要清理')\n    return\n  }\n\n  const d = dialog.warning({\n    title: '确认清理',\n    content: `确定要清理 ${unusedCount} 个未使用的 Volume 吗？此操作不可恢复。`,\n    positiveText: '清理',\n    negativeText: '取消',\n    onPositiveClick: async () => {\n      try {\n        d.loading = true\n        const result = await volumeStore.pruneVolumes()\n        const deletedCount = result.volumesDeleted?.length || 0\n        message.success(`清理成功，删除了 ${deletedCount} 个 Volume`)\n      } catch (error: any) {\n        message.error(`清理失败：${error.message || '未知错误'}`)\n      } finally {\n        d.loading = false\n      }\n    },\n  })\n}\n\n// 页面初始化\nonMounted(async () => {\n  await volumeStore.fetchVolumes()\n})\n</script>\n\n<style scoped lang=\"less\">\n.welcome-card {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-direction: row;\n  height: 100%;\n}\n\n.volumes-page {\n  width: 100%;\n\n  .volumes-content {\n    position: relative;\n    min-height: 400px;\n    padding-top: 16px;\n\n    .n-spin-container {\n      min-height: 400px;\n    }\n  }\n\n  .empty-state {\n    padding: 60px 0;\n    text-align: center;\n  }\n\n  .volumes-grid {\n    display: grid;\n    gap: 16px;\n\n    &.grid-cols-1 {\n      grid-template-columns: 1fr;\n    }\n\n    &.grid-cols-2 {\n      grid-template-columns: repeat(2, minmax(1fr, 50%));\n    }\n\n    &.grid-cols-3 {\n      grid-template-columns: repeat(3, minmax(1fr, 33.33%));\n    }\n\n    &.grid-cols-4 {\n      grid-template-columns: repeat(4, minmax(1fr, 25%));\n    }\n  }\n}\n\n// 响应式调整\n@media (max-width: 768px) {\n  .volumes-page {\n    .volumes-grid {\n      gap: 8px;\n    }\n  }\n}\n</style>\n"],"mappings":"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"}