{"version":3,"file":"app-CSclzxOM.js","names":[],"sources":["../../src/store/app.ts"],"sourcesContent":["import { defineStore } from 'pinia'\nimport { ref } from 'vue'\nimport { healthApi } from '@/common/api'\n\nexport const useAppStore = defineStore('app', () => {\n  // 移动端抽屉菜单状态\n  const drawerVisible = ref(false)\n\n  // 全局加载状态\n  const globalLoading = ref(false)\n\n  // 系统健康状态\n  const systemHealth = ref<'healthy' | 'unhealthy' | 'unknown'>('unknown')\n\n  // 最后刷新时间\n  const lastRefreshTime = ref<Date | null>(null)\n\n  // 方法：切换抽屉菜单\n  const toggleDrawer = () => {\n    drawerVisible.value = !drawerVisible.value\n  }\n\n  // 方法：关闭抽屉菜单\n  const closeDrawer = () => {\n    drawerVisible.value = false\n  }\n\n  // 方法：设置系统健康状态\n  const setSystemHealth = (status: 'healthy' | 'unhealthy' | 'unknown') => {\n    systemHealth.value = status\n  }\n\n  // 方法：设置最后刷新时间\n  const updateRefreshTime = () => {\n    lastRefreshTime.value = new Date()\n  }\n\n  // 方法：设置全局加载状态\n  const setGlobalLoading = (loading: boolean) => {\n    globalLoading.value = loading\n  }\n\n  const checkHealth = async () => {\n    try {\n      await healthApi.health()\n      setSystemHealth('healthy')\n    } catch (error) {\n      setSystemHealth('unhealthy')\n      console.error('健康检查失败:', error)\n    }\n  }\n\n  return {\n    // 状态\n    drawerVisible,\n    globalLoading,\n    systemHealth,\n    lastRefreshTime,\n\n    // 方法\n    toggleDrawer,\n    closeDrawer,\n    setSystemHealth,\n    updateRefreshTime,\n    setGlobalLoading,\n    checkHealth,\n  }\n})\n"],"mappings":"uHAIA,MAAa,EAAc,EAAY,UAAa,CAElD,IAAM,EAAgB,EAAI,GAAM,CAG1B,EAAgB,EAAI,GAAM,CAG1B,EAAe,EAAyC,UAAU,CAGlE,EAAkB,EAAiB,KAAK,CAGxC,MAAqB,CACzB,EAAc,MAAQ,CAAC,EAAc,OAIjC,MAAoB,CACxB,EAAc,MAAQ,IAIlB,EAAmB,GAAgD,CACvE,EAAa,MAAQ,GAuBvB,MAAO,CAEL,gBACA,gBACA,eACA,kBAGA,eACA,cACA,kBACA,sBA9B8B,CAC9B,EAAgB,MAAQ,IAAI,MA8B5B,iBA1BwB,GAAqB,CAC7C,EAAc,MAAQ,GA0BtB,YAvBkB,SAAY,CAC9B,GAAI,CACF,MAAM,EAAU,QAAQ,CACxB,EAAgB,UAAU,OACnB,EAAO,CACd,EAAgB,YAAY,CAC5B,QAAQ,MAAM,UAAW,EAAM,GAkBlC,EACD"}