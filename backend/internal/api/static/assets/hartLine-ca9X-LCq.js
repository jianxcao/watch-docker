import{F as e,Kt as t,Yt as n,Z as r,j as i,kn as a,tn as o,un as s,z as c}from"./ui-CdsL-WMe.js";import{t as l}from"./container-BbVEwPu1.js";function u(){let t=l(),n=e(),s=c();return{handleStart:async e=>{try{await t.startContainer(e.id),n.success(`容器 ${e.name} 启动成功`)}catch(e){n.error(`启动容器失败: ${e.message}`)}},handleStop:async e=>{try{await t.stopContainer(e.id),n.success(`容器 ${e.name} 停止成功`)}catch(e){n.error(`停止容器失败: ${e.message}`)}},handleRestart:async e=>{try{await t.restartContainer(e.id),n.success(`容器 ${e.name} 重启成功`)}catch(e){n.error(`重启容器失败: ${e.message}`)}},handleUpdate:async(e,r)=>{try{await t.updateContainer(e.id,r),n.success(`容器 ${e.name} 更新成功`)}catch(e){n.error(`更新容器失败: ${e.message}`)}},handleDelete:e=>{let c=e.running,l=a(c),u=a(!1),d=a(!1),f=s.warning({title:`确认删除容器`,content:()=>o(i,{vertical:!0},()=>[o(`div`,{},`确定要删除容器 "${e.name}" 吗？此操作不可撤销。`),e.running?o(`div`,{class:`text-orange-500 text-sm`},`注意：容器正在运行中`):o(`div`,{class:`text-gray-500 text-sm`},`容器已停止`),o(r,{checked:l.value,"onUpdate:checked":e=>{l.value=e}},{default:()=>e.running?`强制删除 (停止并删除运行中的容器)`:`强制删除`}),o(r,{checked:u.value,"onUpdate:checked":e=>{u.value=e}},{default:()=>`删除关联的卷 (Volume)`}),o(r,{checked:d.value,"onUpdate:checked":e=>{d.value=e}},{default:()=>`删除关联的网络 (Network)`})]),positiveText:`确认删除`,negativeText:`取消`,onPositiveClick:async()=>{try{f.loading=!0,await t.deleteContainer(e.id,l.value,u.value,d.value),n.success(`容器 ${e.name} 删除成功`)}catch(e){n.error(`删除容器失败: ${e.message}`)}finally{f.loading=!1}}})},handleBatchUpdate:()=>{let e=t.updateableContainers.length;if(e===0){n.info(`当前没有可更新的容器`);return}let r=s.info({title:`批量更新确认`,content:`发现 ${e} 个可更新的容器，确定要批量更新吗？`,positiveText:`确认更新`,negativeText:`取消`,onPositiveClick:async()=>{try{r.loading=!0;let e=await t.batchUpdate();if(e.updated.length>0&&n.success(`成功更新 ${e.updated.length} 个容器`),Object.keys(e.failed).length>0){let t=Object.keys(e.failed);n.warning(`${t.length} 个容器更新失败: ${t.join(`, `)}`)}}catch(e){n.error(`批量更新失败: ${e.message}`)}finally{r.loading=!1}}})},handleExport:async e=>{try{await t.exportContainer(e.id),n.success(`容器 ${e.name} 导出成功`)}catch(e){n.error(`导出容器失败: ${e.message}`)}},getStatusColor:e=>{if(!e.running)return`warning`;switch(e.status){case`UpToDate`:return`success`;case`UpdateAvailable`:return`info`;case`Error`:return`error`;case`Skipped`:return`default`;default:return`default`}},getStatusText:e=>{if(!e.running)return`已停止`;switch(e.status){case`UpToDate`:return`最新`;case`UpdateAvailable`:return`可更新`;case`Error`:return`错误`;case`Skipped`:return`跳过`;default:return`未知`}},getRunningStatusColor:e=>e?`success`:`default`,getRunningStatusText:e=>e?`运行中`:`已停止`}}var d={xmlns:`http://www.w3.org/2000/svg`,width:`20`,height:`20`,fill:`none`};function f(e,r){return s(),n(`svg`,d,[...r[0]||=[t(`g`,{"clip-path":`url(#a)`},[t(`path`,{stroke:`currentColor`,"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`1.667`,d:`M18.333 10h-2.066a1.666 1.666 0 0 0-1.609 1.217L12.7 18.183a.208.208 0 0 1-.4 0L7.7 1.817a.208.208 0 0 0-.4 0L5.342 8.783A1.67 1.67 0 0 1 3.742 10H1.667`})],-1),t(`defs`,null,[t(`clipPath`,{id:`a`},[t(`path`,{fill:`#fff`,d:`M0 0h20v20H0z`})])],-1)]])}var p={render:f};export{u as n,p as t};
//# sourceMappingURL=hartLine-ca9X-LCq.js.map