{"version":3,"file":"HomeView-CXIyi_AQ.js","names":["_hoisted_1","render","_openBlock","_createElementBlock","_createElementVNode","_hoisted_1","_openBlock","_createElementBlock","_createElementVNode"],"sources":["../../node_modules/.pnpm/@vicons+ionicons5@0.13.0/node_modules/@vicons/ionicons5/es/TrashBinOutline.js","../../src/assets/svg/system.svg?component","../../src/pages/HomeView.vue","../../src/pages/HomeView.vue"],"sourcesContent":["import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 512 512'\n}\nexport default defineComponent({\n  name: 'TrashBinOutline',\n  render: function render(_ctx, _cache) {\n    return (\n      _openBlock(),\n      _createElementBlock(\n        'svg',\n        _hoisted_1,\n        _cache[0] ||\n          (_cache[0] = [\n            _createElementVNode(\n              'path',\n              {\n                d: 'M432 144l-28.67 275.74A32 32 0 0 1 371.55 448H140.46a32 32 0 0 1-31.78-28.26L80 144',\n                fill: 'none',\n                stroke: 'currentColor',\n                'stroke-linecap': 'round',\n                'stroke-linejoin': 'round',\n                'stroke-width': '32'\n              },\n              null,\n              -1 /* HOISTED */\n            ),\n            _createElementVNode(\n              'rect',\n              {\n                x: '32',\n                y: '64',\n                width: '448',\n                height: '80',\n                rx: '16',\n                ry: '16',\n                fill: 'none',\n                stroke: 'currentColor',\n                'stroke-linecap': 'round',\n                'stroke-linejoin': 'round',\n                'stroke-width': '32'\n              },\n              null,\n              -1 /* HOISTED */\n            ),\n            _createElementVNode(\n              'path',\n              {\n                fill: 'none',\n                stroke: 'currentColor',\n                'stroke-linecap': 'round',\n                'stroke-linejoin': 'round',\n                'stroke-width': '32',\n                d: 'M312 240L200 352'\n              },\n              null,\n              -1 /* HOISTED */\n            ),\n            _createElementVNode(\n              'path',\n              {\n                fill: 'none',\n                stroke: 'currentColor',\n                'stroke-linecap': 'round',\n                'stroke-linejoin': 'round',\n                'stroke-width': '32',\n                d: 'M312 352L200 240'\n              },\n              null,\n              -1 /* HOISTED */\n            )\n          ])\n      )\n    )\n  }\n})\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"16\",\n  height: \"16\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  \"stroke-linecap\": \"round\",\n  \"stroke-linejoin\": \"round\",\n  \"stroke-width\": \"2\",\n  \"aria-hidden\": \"true\",\n  class: \"lucide lucide-server h-5 w-5\",\n  viewBox: \"0 0 24 24\"\n}\n\nexport function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", _hoisted_1, [...(_cache[0] || (_cache[0] = [\n    _createElementVNode(\"rect\", {\n      width: \"20\",\n      height: \"8\",\n      x: \"2\",\n      y: \"2\",\n      rx: \"2\",\n      ry: \"2\"\n    }, null, -1),\n    _createElementVNode(\"rect\", {\n      width: \"20\",\n      height: \"8\",\n      x: \"2\",\n      y: \"14\",\n      rx: \"2\",\n      ry: \"2\"\n    }, null, -1),\n    _createElementVNode(\"path\", { d: \"M6 6h.01M6 18h.01\" }, null, -1)\n  ]))]))\n}\nexport default { render: render }","<template>\n  <div class=\"home-page\">\n    <!-- ÁªüËÆ°Âç°Áâá -->\n    <div class=\"stats-grid\">\n      <!-- ÂÆπÂô®ÁªüËÆ° -->\n      <div class=\"stat-card container-card\">\n        <div class=\"card-header\">\n          <div class=\"icon-container\">\n            <LayersOutline />\n          </div>\n          <div class=\"card-title\">ÂÆπÂô®Áä∂ÊÄÅ</div>\n        </div>\n        <div class=\"card-content\">\n          <div class=\"stat-item\">\n            <span class=\"stat-label\">ÊÄªÂÆπÂô®</span>\n            <span class=\"stat-value value-blue\">{{ containerStore.stats.total }}</span>\n          </div>\n          <div class=\"stat-item\">\n            <span class=\"stat-label\">ËøêË°å‰∏≠</span>\n            <span class=\"stat-value value-green\">{{ containerStore.stats.running }}</span>\n          </div>\n          <div class=\"stat-item\">\n            <span class=\"stat-label\">Â∑≤ÂÅúÊ≠¢</span>\n            <span class=\"stat-value value-gray\">{{ containerStore.stats.stopped }}</span>\n          </div>\n          <div class=\"stat-item\">\n            <span class=\"stat-label\">Ê≠£Âú®Êõ¥Êñ∞</span>\n            <span class=\"stat-value value-orange\">{{ containerStore.stats.updateable }}</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- ÈïúÂÉèÁªüËÆ° -->\n      <div class=\"stat-card image-card\">\n        <div class=\"card-header\">\n          <div class=\"icon-container\">\n            <ArchiveOutline />\n          </div>\n          <div class=\"card-title\">ÈïúÂÉè‰ø°ÊÅØ</div>\n        </div>\n        <div class=\"card-content\">\n          <div class=\"stat-item\">\n            <span class=\"stat-label\">ÊÄªÈïúÂÉè</span>\n            <span class=\"stat-value value-purple\">{{ imageStore.stats.total }}</span>\n          </div>\n          <div class=\"stat-item\">\n            <span class=\"stat-label\">ÊúÄÂ§ßÁöÑ</span>\n            <span class=\"stat-value value-pink\">{{ imageStore.stats.formattedTotalSize }}</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- Á≥ªÁªü‰ø°ÊÅØ -->\n      <div class=\"stat-card system-card\">\n        <div class=\"card-header\">\n          <div class=\"icon-container\">\n            <SystemIcon />\n          </div>\n          <div class=\"card-title\">Á≥ªÁªü‰ø°ÊÅØ</div>\n        </div>\n        <div class=\"card-content\">\n          <div class=\"stat-item\">\n            <span class=\"stat-label\">ÂêéÁ´ØÁâàÊú¨</span>\n            <span class=\"stat-value value-teal\">{{ version }}</span>\n          </div>\n          <div class=\"stat-item\">\n            <span class=\"stat-label\">ÂâçÁ´ØÁâàÊú¨</span>\n            <span class=\"stat-value value-teal\">{{ appVersion }}</span>\n          </div>\n          <div class=\"stat-item\">\n            <span class=\"stat-label\">Âà∑Êñ∞Êó∂Èó¥</span>\n            <span class=\"stat-value value-teal\">{{ lastRefreshText }}</span>\n          </div>\n          <div class=\"stat-item\">\n            <span class=\"stat-label\">Á≥ªÁªüÁä∂ÊÄÅ</span>\n            <span class=\"system-badge\">{{ systemHealthText }}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Âø´ÈÄüÊìç‰Ωú -->\n    <div class=\"quick-actions\">\n      <div class=\"card-header\">\n        <HeartLineIcon class=\"header-icon\" />\n        <div class=\"card-title\">Âø´ÈÄüÊìç‰Ωú</div>\n      </div>\n      <div class=\"actions-content\">\n        <n-button\n          v-if=\"containerStore.updateableContainers.length > 0\"\n          class=\"action-warning\"\n          size=\"large\"\n          @click=\"handleBatchUpdate\"\n          :loading=\"containerStore.batchUpdating\"\n        >\n          <template #icon>\n            <n-icon>\n              <CloudDownloadOutline />\n            </n-icon>\n          </template>\n          ÊâπÈáèÊõ¥Êñ∞ÂÆπÂô® ({{ containerStore.updateableContainers.length }})\n        </n-button>\n\n        <n-button class=\"action-primary\" size=\"large\" @click=\"handleCreateApp\">\n          <template #icon>\n            <n-icon>\n              <AddCircleOutline />\n            </n-icon>\n          </template>\n          ÂàõÂª∫Â∫îÁî®\n        </n-button>\n\n        <n-button\n          class=\"action-primary\"\n          size=\"large\"\n          @click=\"handleRefreshAll\"\n          :loading=\"appStore.globalLoading\"\n        >\n          <template #icon>\n            <n-icon>\n              <RefreshOutline />\n            </n-icon>\n          </template>\n          Âà∑Êñ∞ÊâÄÊúâÊï∞ÊçÆ\n        </n-button>\n\n        <n-tooltip trigger=\"hover\" :delay=\"500\">\n          <template #trigger>\n            <n-button\n              class=\"action-warning\"\n              size=\"large\"\n              @click=\"handlePruneSystem\"\n              :loading=\"isPruning\"\n            >\n              <template #icon>\n                <n-icon>\n                  <TrashBinOutline />\n                </n-icon>\n              </template>\n              Á≥ªÁªüÊ∏ÖÁêÜ\n            </n-button>\n          </template>\n          Ê∏ÖÁêÜÊÇ¨Á©∫ÈïúÂÉè„ÄÅÁΩëÁªúÂíåÊï∞ÊçÆÂç∑\n        </n-tooltip>\n      </div>\n    </div>\n\n    <!-- ÊúÄËøëÂÆπÂô® -->\n    <div class=\"recent-containers\" v-if=\"recentContainers.length > 0\">\n      <div class=\"card-header\">\n        <LayersOutline class=\"header-icon\" />\n        <div class=\"card-title\">ÊúÄËøëÊ£ÄÊµãÁöÑÂÆπÂô®</div>\n      </div>\n      <div class=\"container-list\">\n        <div\n          v-for=\"container in recentContainers\"\n          :key=\"container.id\"\n          class=\"container-item\"\n          @click=\"handleContainerClick(container.id)\"\n        >\n          <div class=\"item-left\">\n            <div\n              class=\"container-icon\"\n              :class=\"{\n                'status-running': container.running,\n                'status-stopped': !container.running,\n              }\"\n            >\n              <LayersOutline />\n            </div>\n            <div class=\"container-info\">\n              <div class=\"container-name\">{{ container.name }}</div>\n              <div class=\"container-image\">{{ container.image }}</div>\n            </div>\n          </div>\n          <div class=\"item-right\">\n            <span\n              class=\"container-badge\"\n              :class=\"{\n                'badge-running': container.running,\n                'badge-stopped': !container.running,\n              }\"\n            >\n              {{ container.running ? 'ËøêË°å‰∏≠' : 'Â∑≤ÂÅúÊ≠¢' }}\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <Teleport to=\"#header\" defer>\n      <div class=\"welcome-card\">\n        <div>\n          <n-h2 class=\"m-0 text-lg\"\n            >È¶ñÈ°µ<span class=\"text-xs pl-1\">{{ systemHealthIcon }}</span></n-h2\n          >\n          <n-text depth=\"3\" class=\"text-xs max-md:hidden\">\n            Docker ÂÆπÂô®ÂíåÈïúÂÉèÁÆ°ÁêÜÂ∑•ÂÖ∑ÔºåËá™Âä®Ê£ÄÊµãÊõ¥Êñ∞Âπ∂ÁÆ°ÁêÜÊÇ®ÁöÑÂÆπÂô®\n          </n-text>\n        </div>\n      </div>\n    </Teleport>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, ref } from 'vue'\nimport { useMessage } from 'naive-ui'\nimport { useRouter } from 'vue-router'\nimport { useAppStore } from '@/store/app'\nimport { useContainerStore } from '@/store/container'\nimport { useImageStore } from '@/store/image'\nimport { useContainer } from '@/hooks/useContainer'\nimport { useSettingStore } from '@/store/setting'\nimport { api } from '@/common/api'\nimport SystemIcon from '@/assets/svg/system.svg?component'\nimport dayjs from 'dayjs'\nimport {\n  LayersOutline,\n  ArchiveOutline,\n  CloudDownloadOutline,\n  RefreshOutline,\n  TrashBinOutline,\n  AddCircleOutline,\n} from '@vicons/ionicons5'\nimport HeartLineIcon from '@/assets/svg/hartLine.svg?component'\n\nconst router = useRouter()\nconst appStore = useAppStore()\nconst containerStore = useContainerStore()\nconst imageStore = useImageStore()\nconst containerHooks = useContainer()\nconst settingStore = useSettingStore()\nconst message = useMessage()\n\n// Á≥ªÁªüÊ∏ÖÁêÜÁä∂ÊÄÅ\nconst isPruning = ref(false)\n\n// ÁâàÊú¨‰ø°ÊÅØ\nconst appVersion = 'v' + __APP_VERSION__\nconst version = computed(() => settingStore.systemInfo?.version)\n\nconst systemHealthText = computed(() => {\n  switch (appStore.systemHealth) {\n    case 'healthy':\n      return 'Á≥ªÁªüÊ≠£Â∏∏'\n    case 'unhealthy':\n      return 'Á≥ªÁªüÂºÇÂ∏∏'\n    default:\n      return 'Áä∂ÊÄÅÊú™Áü•'\n  }\n})\n\nconst systemHealthIcon = computed(() => {\n  switch (appStore.systemHealth) {\n    case 'healthy':\n      return 'üü¢'\n    case 'unhealthy':\n      return 'üî¥'\n    default:\n      return 'üü°'\n  }\n})\n\n// ÊúÄÂêéÂà∑Êñ∞Êó∂Èó¥\nconst lastRefreshText = computed(() => {\n  if (!appStore.lastRefreshTime) {\n    return '‰ªéÊú™'\n  }\n  return dayjs(appStore.lastRefreshTime).format('MM-DD HH:mm:ss')\n})\n\n// ÊúÄËøëÊ£ÄÊü•ÁöÑÂÆπÂô®ÔºàÊúÄÂ§ö5‰∏™Ôºâ\nconst recentContainers = computed(() => {\n  return containerStore.containers\n    .slice()\n    .sort((a, b) => new Date(b.lastCheckedAt).getTime() - new Date(a.lastCheckedAt).getTime())\n    .slice(0, 5)\n})\n\n// Âø´ÈÄüÊìç‰ΩúÂ§ÑÁêÜÂáΩÊï∞\nconst handleBatchUpdate = async () => {\n  await containerHooks.handleBatchUpdate()\n}\n\nconst handleRefreshAll = async () => {\n  appStore.setGlobalLoading(true)\n  try {\n    await Promise.all([containerStore.fetchContainers(), imageStore.fetchImages()])\n    appStore.updateRefreshTime()\n  } finally {\n    appStore.setGlobalLoading(false)\n  }\n}\n\n// Á≥ªÁªüÊ∏ÖÁêÜÂ§ÑÁêÜÂáΩÊï∞\nconst handlePruneSystem = async () => {\n  isPruning.value = true\n  try {\n    const data = await api.container.pruneSystem()\n    if (data.code === 0) {\n      message.success(data.data.message || 'Á≥ªÁªüÊ∏ÖÁêÜÂÆåÊàê')\n      // Ê∏ÖÁêÜÂÆåÊàêÂêéÂà∑Êñ∞Êï∞ÊçÆ\n      await Promise.all([containerStore.fetchContainers(), imageStore.fetchImages()])\n    } else {\n      message.error(data.msg || 'Á≥ªÁªüÊ∏ÖÁêÜÂ§±Ë¥•')\n    }\n  } catch (error: any) {\n    message.error(error.message || 'Á≥ªÁªüÊ∏ÖÁêÜÂ§±Ë¥•')\n  } finally {\n    isPruning.value = false\n  }\n}\n\n// ÂàõÂª∫Â∫îÁî®Â§ÑÁêÜÂáΩÊï∞\nconst handleCreateApp = () => {\n  router.push('/compose/create')\n}\n\n// Â§ÑÁêÜÂÆπÂô®ÁÇπÂáª\nconst handleContainerClick = (containerId: string) => {\n  router.push(`/containers/${containerId}`)\n}\n\n// È°µÈù¢ÂàùÂßãÂåñ\nonMounted(async () => {\n  // Â¶ÇÊûúÊ≤°ÊúâÊï∞ÊçÆÔºåÂÖàÂä†ËΩΩÊï∞ÊçÆ\n  if (containerStore.containers.length === 0) {\n    await containerStore.fetchContainers(true, false)\n  }\n\n  if (imageStore.images.length === 0) {\n    await imageStore.fetchImages()\n  }\n})\n</script>\n\n<style scoped lang=\"less\">\n@import './HomeView.less';\n\n.welcome-card {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-direction: row;\n  height: 100%;\n}\n</style>\n","<template>\n  <div class=\"home-page\">\n    <!-- ÁªüËÆ°Âç°Áâá -->\n    <div class=\"stats-grid\">\n      <!-- ÂÆπÂô®ÁªüËÆ° -->\n      <div class=\"stat-card container-card\">\n        <div class=\"card-header\">\n          <div class=\"icon-container\">\n            <LayersOutline />\n          </div>\n          <div class=\"card-title\">ÂÆπÂô®Áä∂ÊÄÅ</div>\n        </div>\n        <div class=\"card-content\">\n          <div class=\"stat-item\">\n            <span class=\"stat-label\">ÊÄªÂÆπÂô®</span>\n            <span class=\"stat-value value-blue\">{{ containerStore.stats.total }}</span>\n          </div>\n          <div class=\"stat-item\">\n            <span class=\"stat-label\">ËøêË°å‰∏≠</span>\n            <span class=\"stat-value value-green\">{{ containerStore.stats.running }}</span>\n          </div>\n          <div class=\"stat-item\">\n            <span class=\"stat-label\">Â∑≤ÂÅúÊ≠¢</span>\n            <span class=\"stat-value value-gray\">{{ containerStore.stats.stopped }}</span>\n          </div>\n          <div class=\"stat-item\">\n            <span class=\"stat-label\">Ê≠£Âú®Êõ¥Êñ∞</span>\n            <span class=\"stat-value value-orange\">{{ containerStore.stats.updateable }}</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- ÈïúÂÉèÁªüËÆ° -->\n      <div class=\"stat-card image-card\">\n        <div class=\"card-header\">\n          <div class=\"icon-container\">\n            <ArchiveOutline />\n          </div>\n          <div class=\"card-title\">ÈïúÂÉè‰ø°ÊÅØ</div>\n        </div>\n        <div class=\"card-content\">\n          <div class=\"stat-item\">\n            <span class=\"stat-label\">ÊÄªÈïúÂÉè</span>\n            <span class=\"stat-value value-purple\">{{ imageStore.stats.total }}</span>\n          </div>\n          <div class=\"stat-item\">\n            <span class=\"stat-label\">ÊúÄÂ§ßÁöÑ</span>\n            <span class=\"stat-value value-pink\">{{ imageStore.stats.formattedTotalSize }}</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- Á≥ªÁªü‰ø°ÊÅØ -->\n      <div class=\"stat-card system-card\">\n        <div class=\"card-header\">\n          <div class=\"icon-container\">\n            <SystemIcon />\n          </div>\n          <div class=\"card-title\">Á≥ªÁªü‰ø°ÊÅØ</div>\n        </div>\n        <div class=\"card-content\">\n          <div class=\"stat-item\">\n            <span class=\"stat-label\">ÂêéÁ´ØÁâàÊú¨</span>\n            <span class=\"stat-value value-teal\">{{ version }}</span>\n          </div>\n          <div class=\"stat-item\">\n            <span class=\"stat-label\">ÂâçÁ´ØÁâàÊú¨</span>\n            <span class=\"stat-value value-teal\">{{ appVersion }}</span>\n          </div>\n          <div class=\"stat-item\">\n            <span class=\"stat-label\">Âà∑Êñ∞Êó∂Èó¥</span>\n            <span class=\"stat-value value-teal\">{{ lastRefreshText }}</span>\n          </div>\n          <div class=\"stat-item\">\n            <span class=\"stat-label\">Á≥ªÁªüÁä∂ÊÄÅ</span>\n            <span class=\"system-badge\">{{ systemHealthText }}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Âø´ÈÄüÊìç‰Ωú -->\n    <div class=\"quick-actions\">\n      <div class=\"card-header\">\n        <HeartLineIcon class=\"header-icon\" />\n        <div class=\"card-title\">Âø´ÈÄüÊìç‰Ωú</div>\n      </div>\n      <div class=\"actions-content\">\n        <n-button\n          v-if=\"containerStore.updateableContainers.length > 0\"\n          class=\"action-warning\"\n          size=\"large\"\n          @click=\"handleBatchUpdate\"\n          :loading=\"containerStore.batchUpdating\"\n        >\n          <template #icon>\n            <n-icon>\n              <CloudDownloadOutline />\n            </n-icon>\n          </template>\n          ÊâπÈáèÊõ¥Êñ∞ÂÆπÂô® ({{ containerStore.updateableContainers.length }})\n        </n-button>\n\n        <n-button class=\"action-primary\" size=\"large\" @click=\"handleCreateApp\">\n          <template #icon>\n            <n-icon>\n              <AddCircleOutline />\n            </n-icon>\n          </template>\n          ÂàõÂª∫Â∫îÁî®\n        </n-button>\n\n        <n-button\n          class=\"action-primary\"\n          size=\"large\"\n          @click=\"handleRefreshAll\"\n          :loading=\"appStore.globalLoading\"\n        >\n          <template #icon>\n            <n-icon>\n              <RefreshOutline />\n            </n-icon>\n          </template>\n          Âà∑Êñ∞ÊâÄÊúâÊï∞ÊçÆ\n        </n-button>\n\n        <n-tooltip trigger=\"hover\" :delay=\"500\">\n          <template #trigger>\n            <n-button\n              class=\"action-warning\"\n              size=\"large\"\n              @click=\"handlePruneSystem\"\n              :loading=\"isPruning\"\n            >\n              <template #icon>\n                <n-icon>\n                  <TrashBinOutline />\n                </n-icon>\n              </template>\n              Á≥ªÁªüÊ∏ÖÁêÜ\n            </n-button>\n          </template>\n          Ê∏ÖÁêÜÊÇ¨Á©∫ÈïúÂÉè„ÄÅÁΩëÁªúÂíåÊï∞ÊçÆÂç∑\n        </n-tooltip>\n      </div>\n    </div>\n\n    <!-- ÊúÄËøëÂÆπÂô® -->\n    <div class=\"recent-containers\" v-if=\"recentContainers.length > 0\">\n      <div class=\"card-header\">\n        <LayersOutline class=\"header-icon\" />\n        <div class=\"card-title\">ÊúÄËøëÊ£ÄÊµãÁöÑÂÆπÂô®</div>\n      </div>\n      <div class=\"container-list\">\n        <div\n          v-for=\"container in recentContainers\"\n          :key=\"container.id\"\n          class=\"container-item\"\n          @click=\"handleContainerClick(container.id)\"\n        >\n          <div class=\"item-left\">\n            <div\n              class=\"container-icon\"\n              :class=\"{\n                'status-running': container.running,\n                'status-stopped': !container.running,\n              }\"\n            >\n              <LayersOutline />\n            </div>\n            <div class=\"container-info\">\n              <div class=\"container-name\">{{ container.name }}</div>\n              <div class=\"container-image\">{{ container.image }}</div>\n            </div>\n          </div>\n          <div class=\"item-right\">\n            <span\n              class=\"container-badge\"\n              :class=\"{\n                'badge-running': container.running,\n                'badge-stopped': !container.running,\n              }\"\n            >\n              {{ container.running ? 'ËøêË°å‰∏≠' : 'Â∑≤ÂÅúÊ≠¢' }}\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <Teleport to=\"#header\" defer>\n      <div class=\"welcome-card\">\n        <div>\n          <n-h2 class=\"m-0 text-lg\"\n            >È¶ñÈ°µ<span class=\"text-xs pl-1\">{{ systemHealthIcon }}</span></n-h2\n          >\n          <n-text depth=\"3\" class=\"text-xs max-md:hidden\">\n            Docker ÂÆπÂô®ÂíåÈïúÂÉèÁÆ°ÁêÜÂ∑•ÂÖ∑ÔºåËá™Âä®Ê£ÄÊµãÊõ¥Êñ∞Âπ∂ÁÆ°ÁêÜÊÇ®ÁöÑÂÆπÂô®\n          </n-text>\n        </div>\n      </div>\n    </Teleport>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, ref } from 'vue'\nimport { useMessage } from 'naive-ui'\nimport { useRouter } from 'vue-router'\nimport { useAppStore } from '@/store/app'\nimport { useContainerStore } from '@/store/container'\nimport { useImageStore } from '@/store/image'\nimport { useContainer } from '@/hooks/useContainer'\nimport { useSettingStore } from '@/store/setting'\nimport { api } from '@/common/api'\nimport SystemIcon from '@/assets/svg/system.svg?component'\nimport dayjs from 'dayjs'\nimport {\n  LayersOutline,\n  ArchiveOutline,\n  CloudDownloadOutline,\n  RefreshOutline,\n  TrashBinOutline,\n  AddCircleOutline,\n} from '@vicons/ionicons5'\nimport HeartLineIcon from '@/assets/svg/hartLine.svg?component'\n\nconst router = useRouter()\nconst appStore = useAppStore()\nconst containerStore = useContainerStore()\nconst imageStore = useImageStore()\nconst containerHooks = useContainer()\nconst settingStore = useSettingStore()\nconst message = useMessage()\n\n// Á≥ªÁªüÊ∏ÖÁêÜÁä∂ÊÄÅ\nconst isPruning = ref(false)\n\n// ÁâàÊú¨‰ø°ÊÅØ\nconst appVersion = 'v' + __APP_VERSION__\nconst version = computed(() => settingStore.systemInfo?.version)\n\nconst systemHealthText = computed(() => {\n  switch (appStore.systemHealth) {\n    case 'healthy':\n      return 'Á≥ªÁªüÊ≠£Â∏∏'\n    case 'unhealthy':\n      return 'Á≥ªÁªüÂºÇÂ∏∏'\n    default:\n      return 'Áä∂ÊÄÅÊú™Áü•'\n  }\n})\n\nconst systemHealthIcon = computed(() => {\n  switch (appStore.systemHealth) {\n    case 'healthy':\n      return 'üü¢'\n    case 'unhealthy':\n      return 'üî¥'\n    default:\n      return 'üü°'\n  }\n})\n\n// ÊúÄÂêéÂà∑Êñ∞Êó∂Èó¥\nconst lastRefreshText = computed(() => {\n  if (!appStore.lastRefreshTime) {\n    return '‰ªéÊú™'\n  }\n  return dayjs(appStore.lastRefreshTime).format('MM-DD HH:mm:ss')\n})\n\n// ÊúÄËøëÊ£ÄÊü•ÁöÑÂÆπÂô®ÔºàÊúÄÂ§ö5‰∏™Ôºâ\nconst recentContainers = computed(() => {\n  return containerStore.containers\n    .slice()\n    .sort((a, b) => new Date(b.lastCheckedAt).getTime() - new Date(a.lastCheckedAt).getTime())\n    .slice(0, 5)\n})\n\n// Âø´ÈÄüÊìç‰ΩúÂ§ÑÁêÜÂáΩÊï∞\nconst handleBatchUpdate = async () => {\n  await containerHooks.handleBatchUpdate()\n}\n\nconst handleRefreshAll = async () => {\n  appStore.setGlobalLoading(true)\n  try {\n    await Promise.all([containerStore.fetchContainers(), imageStore.fetchImages()])\n    appStore.updateRefreshTime()\n  } finally {\n    appStore.setGlobalLoading(false)\n  }\n}\n\n// Á≥ªÁªüÊ∏ÖÁêÜÂ§ÑÁêÜÂáΩÊï∞\nconst handlePruneSystem = async () => {\n  isPruning.value = true\n  try {\n    const data = await api.container.pruneSystem()\n    if (data.code === 0) {\n      message.success(data.data.message || 'Á≥ªÁªüÊ∏ÖÁêÜÂÆåÊàê')\n      // Ê∏ÖÁêÜÂÆåÊàêÂêéÂà∑Êñ∞Êï∞ÊçÆ\n      await Promise.all([containerStore.fetchContainers(), imageStore.fetchImages()])\n    } else {\n      message.error(data.msg || 'Á≥ªÁªüÊ∏ÖÁêÜÂ§±Ë¥•')\n    }\n  } catch (error: any) {\n    message.error(error.message || 'Á≥ªÁªüÊ∏ÖÁêÜÂ§±Ë¥•')\n  } finally {\n    isPruning.value = false\n  }\n}\n\n// ÂàõÂª∫Â∫îÁî®Â§ÑÁêÜÂáΩÊï∞\nconst handleCreateApp = () => {\n  router.push('/compose/create')\n}\n\n// Â§ÑÁêÜÂÆπÂô®ÁÇπÂáª\nconst handleContainerClick = (containerId: string) => {\n  router.push(`/containers/${containerId}`)\n}\n\n// È°µÈù¢ÂàùÂßãÂåñ\nonMounted(async () => {\n  // Â¶ÇÊûúÊ≤°ÊúâÊï∞ÊçÆÔºåÂÖàÂä†ËΩΩÊï∞ÊçÆ\n  if (containerStore.containers.length === 0) {\n    await containerStore.fetchContainers(true, false)\n  }\n\n  if (imageStore.images.length === 0) {\n    await imageStore.fetchImages()\n  }\n})\n</script>\n\n<style scoped lang=\"less\">\n@import './HomeView.less';\n\n.welcome-card {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-direction: row;\n  height: 100%;\n}\n</style>\n"],"mappings":"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"}