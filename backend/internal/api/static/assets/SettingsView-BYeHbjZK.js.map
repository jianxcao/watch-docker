{"version":3,"file":"SettingsView-BYeHbjZK.js","names":["_hoisted_1","_openBlock","_createElementBlock","_createElementVNode"],"sources":["../../node_modules/.pnpm/@vicons+ionicons5@0.13.0/node_modules/@vicons/ionicons5/es/SaveOutline.js","../../src/pages/SettingsView.vue","../../src/pages/SettingsView.vue"],"sourcesContent":["import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 512 512'\n}\nexport default defineComponent({\n  name: 'SaveOutline',\n  render: function render(_ctx, _cache) {\n    return (\n      _openBlock(),\n      _createElementBlock(\n        'svg',\n        _hoisted_1,\n        _cache[0] ||\n          (_cache[0] = [\n            _createElementVNode(\n              'path',\n              {\n                d: 'M380.93 57.37A32 32 0 0 0 358.3 48H94.22A46.21 46.21 0 0 0 48 94.22v323.56A46.21 46.21 0 0 0 94.22 464h323.56A46.36 46.36 0 0 0 464 417.78V153.7a32 32 0 0 0-9.37-22.63zM256 416a64 64 0 1 1 64-64a63.92 63.92 0 0 1-64 64zm48-224H112a16 16 0 0 1-16-16v-64a16 16 0 0 1 16-16h192a16 16 0 0 1 16 16v64a16 16 0 0 1-16 16z',\n                fill: 'none',\n                stroke: 'currentColor',\n                'stroke-linecap': 'round',\n                'stroke-linejoin': 'round',\n                'stroke-width': '32'\n              },\n              null,\n              -1 /* HOISTED */\n            )\n          ])\n      )\n    )\n  }\n})\n","<template>\n  <div class=\"settings-page\">\n    <!-- 设置内容 -->\n    <div class=\"settings-content\">\n      <n-space vertical size=\"large\">\n        <!-- 服务器设置 -->\n        <!-- <n-card title=\"服务器设置\" embedded>\n          <n-form :model=\"configForm\" label-placement=\"left\" label-width=\"120px\">\n            <n-form-item label=\"监听地址\" disabled>\n              <n-input v-model:value=\"configForm.server.addr\" placeholder=\":8080\" />\n            </n-form-item>\n          </n-form>\n        </n-card> -->\n\n        <!-- 通知设置 -->\n        <n-card title=\"通知设置\" embedded>\n          <n-form :model=\"configForm\" label-placement=\"left\" label-width=\"120px\">\n            <n-form-item label=\"通知地址\">\n              <n-input v-model:value=\"configForm.notify.url\" :placeholder=\"notifyUrlPlaceholder\" />\n            </n-form-item>\n            <n-form-item label=\"请求方法\">\n              <n-select\n                v-model:value=\"configForm.notify.method\"\n                :options=\"notifyMethodOptions\"\n                placeholder=\"选择请求方法\"\n              />\n            </n-form-item>\n            <n-form-item label=\"启用通知\">\n              <n-switch v-model:value=\"configForm.notify.isEnable\" />\n            </n-form-item>\n            <n-alert title=\"占位符说明\" type=\"info\" class=\"mt-2\">\n              支持在查询参数或路径中使用 title={title}、content={content}、url={url}、image={image}\n              占位符\n            </n-alert>\n          </n-form>\n        </n-card>\n\n        <!-- Docker 设置 -->\n        <n-card title=\"Docker 设置\" embedded>\n          <n-form :model=\"configForm\" label-placement=\"left\" label-width=\"120px\">\n            <n-form-item label=\"Docker 主机\">\n              <n-input v-model:value=\"configForm.docker.host\" placeholder=\"留空使用默认设置\" />\n            </n-form-item>\n            <n-form-item label=\"包含已停止容器\">\n              <n-switch v-model:value=\"configForm.docker.includeStopped\" />\n            </n-form-item>\n          </n-form>\n        </n-card>\n\n        <!-- 扫描设置 -->\n        <n-card title=\"扫描设置\" embedded>\n          <n-form :model=\"configForm\" label-placement=\"left\" label-width=\"120px\">\n            <n-form-item label=\"Cron 表达式\">\n              <n-input v-model:value=\"configForm.scan.cron\" placeholder=\"0 */10 * * * *\" />\n            </n-form-item>\n            <n-form-item label=\"并发数\">\n              <n-input-number v-model:value=\"configForm.scan.concurrency\" :min=\"1\" :max=\"20\" />\n            </n-form-item>\n            <n-form-item label=\"缓存TTL\">\n              <n-input-number v-model:value=\"configForm.scan.cacheTTL\" :min=\"1\" placeholder=\"5\">\n                <template #suffix>\n                  <n-text depth=\"3\">分钟</n-text>\n                </template>\n              </n-input-number>\n            </n-form-item>\n            <n-form-item label=\"启用自动更新\">\n              <n-switch v-model:value=\"configForm.scan.isUpdate\" />\n            </n-form-item>\n            <n-form-item label=\"允许更新 Compose 容器\">\n              <n-switch v-model:value=\"configForm.scan.allowComposeUpdate\" />\n            </n-form-item>\n          </n-form>\n        </n-card>\n\n        <!-- 策略设置 -->\n        <n-card title=\"策略设置\" embedded>\n          <n-form :model=\"configForm\" label-placement=\"left\" label-width=\"120px\">\n            <n-form-item label=\"跳过标签\">\n              <n-dynamic-tags v-model:value=\"configForm.policy.skipLabels\" />\n            </n-form-item>\n            <n-form-item label=\"仅包含标签\">\n              <n-dynamic-tags v-model:value=\"configForm.policy.onlyLabels\" />\n            </n-form-item>\n            <n-form-item label=\"跳过本地构建\">\n              <n-switch v-model:value=\"configForm.policy.skipLocalBuild\" />\n            </n-form-item>\n            <n-form-item label=\"跳过固定摘要\">\n              <n-switch v-model:value=\"configForm.policy.skipPinnedDigest\" />\n            </n-form-item>\n            <n-form-item label=\"跳过语义化版本\">\n              <n-switch v-model:value=\"configForm.policy.skipSemverPinned\" />\n            </n-form-item>\n            <n-form-item label=\"浮动标签\">\n              <n-dynamic-tags v-model:value=\"configForm.policy.floatingTags\" />\n            </n-form-item>\n          </n-form>\n        </n-card>\n\n        <!-- 仓库认证设置 -->\n        <n-card title=\"仓库认证\" embedded>\n          <div class=\"registry-auth-section\">\n            <n-space vertical>\n              <div v-for=\"(auth, index) in configForm.registry.auth\" :key=\"index\" class=\"auth-item\">\n                <n-card size=\"small\">\n                  <n-form :model=\"auth\" label-placement=\"left\" label-width=\"80px\">\n                    <n-form-item label=\"主机\">\n                      <n-select\n                        v-model:value=\"auth.host\"\n                        :options=\"registryHostOptions\"\n                        filterable\n                        tag\n                        placeholder=\"选择或输入 registry 主机\"\n                      />\n                    </n-form-item>\n                    <n-form-item label=\"用户名\">\n                      <n-input v-model:value=\"auth.username\" placeholder=\"username\" />\n                    </n-form-item>\n                    <n-form-item label=\"令牌\">\n                      <n-input\n                        v-model:value=\"auth.token\"\n                        type=\"password\"\n                        show-password-on=\"click\"\n                        placeholder=\"access token\"\n                      />\n                    </n-form-item>\n                  </n-form>\n\n                  <template #action>\n                    <n-button @click=\"removeAuth(index)\" type=\"error\" size=\"small\" ghost>\n                      删除\n                    </n-button>\n                  </template>\n                </n-card>\n              </div>\n\n              <n-button @click=\"addAuth\" type=\"primary\" dashed>\n                <template #icon>\n                  <n-icon>\n                    <AddOutline />\n                  </n-icon>\n                </template>\n                添加仓库认证\n              </n-button>\n            </n-space>\n\n            <n-alert title=\"仓库说明\" type=\"info\" class=\"mt-4\">\n              <div>\n                <div><strong>内置支持：</strong></div>\n                <ul class=\"registry-tips\">\n                  <li><strong>Docker Hub：</strong>选择 \"dockerhub\" 或 \"docker.io\"</li>\n                  <li><strong>GitHub：</strong>选择 \"ghcr.io\"</li>\n                  <li>\n                    <strong>自定义：</strong>直接输入私有 registry 地址（如 registry.example.com）\n                  </li>\n                </ul>\n              </div>\n            </n-alert>\n          </div>\n        </n-card>\n\n        <!-- 日志设置 -->\n        <n-card title=\"日志设置\" embedded>\n          <n-form :model=\"configForm\" label-placement=\"left\" label-width=\"120px\">\n            <n-form-item label=\"日志级别\">\n              <n-select v-model:value=\"configForm.logging.level\" :options=\"logLevelOptions\" />\n            </n-form-item>\n          </n-form>\n        </n-card>\n      </n-space>\n    </div>\n\n    <Teleport to=\"#header\" defer>\n      <div class=\"welcome-card\">\n        <div>\n          <n-h2 class=\"m-0 text-lg\">系统设置</n-h2>\n          <n-text depth=\"3\" class=\"text-xs max-md:hidden\">\n            配置 Watch Docker 的运行参数和策略\n          </n-text>\n        </div>\n      </div>\n    </Teleport>\n\n    <!-- 底部保存按钮 -->\n    <Teleport to=\"#footer\" defer>\n      <div class=\"save-button-container\">\n        <n-button type=\"primary\" size=\"large\" @click=\"handleSave\" :loading=\"saving\">\n          <template #icon>\n            <SaveOutline />\n          </template>\n          保存配置\n        </n-button>\n      </div>\n    </Teleport>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, reactive, onMounted } from 'vue'\nimport { useMessage } from 'naive-ui'\nimport type { Config } from '@/common/types'\nimport { AddOutline, SaveOutline } from '@vicons/ionicons5'\nimport { configApi } from '@/common/api'\n\nconst message = useMessage()\n\n// 保存状态\nconst saving = ref(false)\n\nconst notifyUrlPlaceholder = computed(() => {\n  const host = 'http://127.0.0.1:8080'\n  if (configForm.notify.method == 'GET') {\n    return `${host}/notify?title={title}&content={content}&url={url}&image={image}`\n  } else {\n    return `${host}/notify`\n  }\n})\n\n// 表单数据\nconst configForm = reactive<Config>({\n  server: {\n    addr: ':8080',\n  },\n  notify: {\n    url: '',\n    method: 'GET',\n    isEnable: true,\n  },\n  docker: {\n    host: '',\n    includeStopped: false,\n  },\n  scan: {\n    cron: '',\n    concurrency: 3,\n    cacheTTL: 10,\n    isUpdate: true,\n    allowComposeUpdate: false,\n  },\n  policy: {\n    skipLabels: ['watchdocker.skip=true'],\n    onlyLabels: [],\n    skipLocalBuild: true,\n    skipPinnedDigest: true,\n    skipSemverPinned: true,\n    floatingTags: ['latest', 'main', 'stable'],\n  },\n  registry: {\n    auth: [],\n  },\n  logging: {\n    level: 'info',\n  },\n})\n\n// 选项配置\nconst logLevelOptions = [\n  { label: 'Debug', value: 'debug' },\n  { label: 'Info', value: 'info' },\n  { label: 'Warn', value: 'warn' },\n  { label: 'Error', value: 'error' },\n]\n\nconst notifyMethodOptions = [\n  { label: 'GET', value: 'GET' },\n  { label: 'POST', value: 'POST' },\n]\n\n// Registry 主机选项\nconst registryHostOptions = [\n  {\n    label: 'docker.io',\n    value: 'docker.io',\n    description: 'Docker Hub 官方域名',\n  },\n  {\n    label: 'GitHub Container Registry',\n    value: 'ghcr.io',\n    description: 'GitHub 容器镜像仓库',\n  },\n]\n\n// 添加仓库认证\nconst addAuth = () => {\n  configForm.registry.auth.push({\n    host: '',\n    username: '',\n    token: '',\n  })\n}\n\n// 删除仓库认证\nconst removeAuth = (index: number) => {\n  configForm.registry.auth.splice(index, 1)\n}\n\n// 保存配置\nconst handleSave = async () => {\n  if (saving.value) {\n    return\n  }\n\n  saving.value = true\n  try {\n    const response = await configApi.saveConfig(configForm)\n    if (response.code === 0) {\n      message.success('配置保存成功')\n    } else {\n      throw new Error(response.msg || '保存失败')\n    }\n  } catch (error: any) {\n    message.error(`保存失败: ${error.message || '未知错误'}`)\n  } finally {\n    saving.value = false\n  }\n}\n\n// 加载配置\nconst loadConfig = async () => {\n  try {\n    const response = await configApi.getConfig()\n\n    if (response.code === 0 && response.data?.config) {\n      // 将服务器返回的配置合并到表单中\n      Object.assign(configForm, response.data.config)\n      message.success('配置加载成功')\n    } else {\n      throw new Error(response.msg || '获取配置失败')\n    }\n  } catch (error: any) {\n    message.error(`加载配置失败: ${error.message || '未知错误'}`)\n  }\n}\n\n// 页面初始化\nonMounted(async () => {\n  await loadConfig()\n})\n</script>\n\n<style scoped lang=\"less\">\n.welcome-card {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-direction: row;\n  height: 100%;\n}\n\n.settings-page {\n  .page-header {\n    margin-bottom: 16px;\n  }\n\n  .settings-content {\n    max-width: 800px;\n  }\n\n  .registry-auth-section {\n    .auth-item {\n      margin-bottom: 16px;\n    }\n  }\n}\n\n.registry-tips {\n  margin: 8px 0 0 0;\n  padding-left: 20px;\n\n  li {\n    margin: 4px 0;\n    color: var(--n-text-color);\n  }\n}\n\n.save-button-container {\n  width: 100%;\n  text-align: right;\n  padding-inline: 16px;\n}\n\n// 响应式调整\n@media (max-width: 768px) {\n  .settings-page {\n    .settings-content {\n      max-width: 100%;\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"settings-page\">\n    <!-- 设置内容 -->\n    <div class=\"settings-content\">\n      <n-space vertical size=\"large\">\n        <!-- 服务器设置 -->\n        <!-- <n-card title=\"服务器设置\" embedded>\n          <n-form :model=\"configForm\" label-placement=\"left\" label-width=\"120px\">\n            <n-form-item label=\"监听地址\" disabled>\n              <n-input v-model:value=\"configForm.server.addr\" placeholder=\":8080\" />\n            </n-form-item>\n          </n-form>\n        </n-card> -->\n\n        <!-- 通知设置 -->\n        <n-card title=\"通知设置\" embedded>\n          <n-form :model=\"configForm\" label-placement=\"left\" label-width=\"120px\">\n            <n-form-item label=\"通知地址\">\n              <n-input v-model:value=\"configForm.notify.url\" :placeholder=\"notifyUrlPlaceholder\" />\n            </n-form-item>\n            <n-form-item label=\"请求方法\">\n              <n-select\n                v-model:value=\"configForm.notify.method\"\n                :options=\"notifyMethodOptions\"\n                placeholder=\"选择请求方法\"\n              />\n            </n-form-item>\n            <n-form-item label=\"启用通知\">\n              <n-switch v-model:value=\"configForm.notify.isEnable\" />\n            </n-form-item>\n            <n-alert title=\"占位符说明\" type=\"info\" class=\"mt-2\">\n              支持在查询参数或路径中使用 title={title}、content={content}、url={url}、image={image}\n              占位符\n            </n-alert>\n          </n-form>\n        </n-card>\n\n        <!-- Docker 设置 -->\n        <n-card title=\"Docker 设置\" embedded>\n          <n-form :model=\"configForm\" label-placement=\"left\" label-width=\"120px\">\n            <n-form-item label=\"Docker 主机\">\n              <n-input v-model:value=\"configForm.docker.host\" placeholder=\"留空使用默认设置\" />\n            </n-form-item>\n            <n-form-item label=\"包含已停止容器\">\n              <n-switch v-model:value=\"configForm.docker.includeStopped\" />\n            </n-form-item>\n          </n-form>\n        </n-card>\n\n        <!-- 扫描设置 -->\n        <n-card title=\"扫描设置\" embedded>\n          <n-form :model=\"configForm\" label-placement=\"left\" label-width=\"120px\">\n            <n-form-item label=\"Cron 表达式\">\n              <n-input v-model:value=\"configForm.scan.cron\" placeholder=\"0 */10 * * * *\" />\n            </n-form-item>\n            <n-form-item label=\"并发数\">\n              <n-input-number v-model:value=\"configForm.scan.concurrency\" :min=\"1\" :max=\"20\" />\n            </n-form-item>\n            <n-form-item label=\"缓存TTL\">\n              <n-input-number v-model:value=\"configForm.scan.cacheTTL\" :min=\"1\" placeholder=\"5\">\n                <template #suffix>\n                  <n-text depth=\"3\">分钟</n-text>\n                </template>\n              </n-input-number>\n            </n-form-item>\n            <n-form-item label=\"启用自动更新\">\n              <n-switch v-model:value=\"configForm.scan.isUpdate\" />\n            </n-form-item>\n            <n-form-item label=\"允许更新 Compose 容器\">\n              <n-switch v-model:value=\"configForm.scan.allowComposeUpdate\" />\n            </n-form-item>\n          </n-form>\n        </n-card>\n\n        <!-- 策略设置 -->\n        <n-card title=\"策略设置\" embedded>\n          <n-form :model=\"configForm\" label-placement=\"left\" label-width=\"120px\">\n            <n-form-item label=\"跳过标签\">\n              <n-dynamic-tags v-model:value=\"configForm.policy.skipLabels\" />\n            </n-form-item>\n            <n-form-item label=\"仅包含标签\">\n              <n-dynamic-tags v-model:value=\"configForm.policy.onlyLabels\" />\n            </n-form-item>\n            <n-form-item label=\"跳过本地构建\">\n              <n-switch v-model:value=\"configForm.policy.skipLocalBuild\" />\n            </n-form-item>\n            <n-form-item label=\"跳过固定摘要\">\n              <n-switch v-model:value=\"configForm.policy.skipPinnedDigest\" />\n            </n-form-item>\n            <n-form-item label=\"跳过语义化版本\">\n              <n-switch v-model:value=\"configForm.policy.skipSemverPinned\" />\n            </n-form-item>\n            <n-form-item label=\"浮动标签\">\n              <n-dynamic-tags v-model:value=\"configForm.policy.floatingTags\" />\n            </n-form-item>\n          </n-form>\n        </n-card>\n\n        <!-- 仓库认证设置 -->\n        <n-card title=\"仓库认证\" embedded>\n          <div class=\"registry-auth-section\">\n            <n-space vertical>\n              <div v-for=\"(auth, index) in configForm.registry.auth\" :key=\"index\" class=\"auth-item\">\n                <n-card size=\"small\">\n                  <n-form :model=\"auth\" label-placement=\"left\" label-width=\"80px\">\n                    <n-form-item label=\"主机\">\n                      <n-select\n                        v-model:value=\"auth.host\"\n                        :options=\"registryHostOptions\"\n                        filterable\n                        tag\n                        placeholder=\"选择或输入 registry 主机\"\n                      />\n                    </n-form-item>\n                    <n-form-item label=\"用户名\">\n                      <n-input v-model:value=\"auth.username\" placeholder=\"username\" />\n                    </n-form-item>\n                    <n-form-item label=\"令牌\">\n                      <n-input\n                        v-model:value=\"auth.token\"\n                        type=\"password\"\n                        show-password-on=\"click\"\n                        placeholder=\"access token\"\n                      />\n                    </n-form-item>\n                  </n-form>\n\n                  <template #action>\n                    <n-button @click=\"removeAuth(index)\" type=\"error\" size=\"small\" ghost>\n                      删除\n                    </n-button>\n                  </template>\n                </n-card>\n              </div>\n\n              <n-button @click=\"addAuth\" type=\"primary\" dashed>\n                <template #icon>\n                  <n-icon>\n                    <AddOutline />\n                  </n-icon>\n                </template>\n                添加仓库认证\n              </n-button>\n            </n-space>\n\n            <n-alert title=\"仓库说明\" type=\"info\" class=\"mt-4\">\n              <div>\n                <div><strong>内置支持：</strong></div>\n                <ul class=\"registry-tips\">\n                  <li><strong>Docker Hub：</strong>选择 \"dockerhub\" 或 \"docker.io\"</li>\n                  <li><strong>GitHub：</strong>选择 \"ghcr.io\"</li>\n                  <li>\n                    <strong>自定义：</strong>直接输入私有 registry 地址（如 registry.example.com）\n                  </li>\n                </ul>\n              </div>\n            </n-alert>\n          </div>\n        </n-card>\n\n        <!-- 日志设置 -->\n        <n-card title=\"日志设置\" embedded>\n          <n-form :model=\"configForm\" label-placement=\"left\" label-width=\"120px\">\n            <n-form-item label=\"日志级别\">\n              <n-select v-model:value=\"configForm.logging.level\" :options=\"logLevelOptions\" />\n            </n-form-item>\n          </n-form>\n        </n-card>\n      </n-space>\n    </div>\n\n    <Teleport to=\"#header\" defer>\n      <div class=\"welcome-card\">\n        <div>\n          <n-h2 class=\"m-0 text-lg\">系统设置</n-h2>\n          <n-text depth=\"3\" class=\"text-xs max-md:hidden\">\n            配置 Watch Docker 的运行参数和策略\n          </n-text>\n        </div>\n      </div>\n    </Teleport>\n\n    <!-- 底部保存按钮 -->\n    <Teleport to=\"#footer\" defer>\n      <div class=\"save-button-container\">\n        <n-button type=\"primary\" size=\"large\" @click=\"handleSave\" :loading=\"saving\">\n          <template #icon>\n            <SaveOutline />\n          </template>\n          保存配置\n        </n-button>\n      </div>\n    </Teleport>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, reactive, onMounted } from 'vue'\nimport { useMessage } from 'naive-ui'\nimport type { Config } from '@/common/types'\nimport { AddOutline, SaveOutline } from '@vicons/ionicons5'\nimport { configApi } from '@/common/api'\n\nconst message = useMessage()\n\n// 保存状态\nconst saving = ref(false)\n\nconst notifyUrlPlaceholder = computed(() => {\n  const host = 'http://127.0.0.1:8080'\n  if (configForm.notify.method == 'GET') {\n    return `${host}/notify?title={title}&content={content}&url={url}&image={image}`\n  } else {\n    return `${host}/notify`\n  }\n})\n\n// 表单数据\nconst configForm = reactive<Config>({\n  server: {\n    addr: ':8080',\n  },\n  notify: {\n    url: '',\n    method: 'GET',\n    isEnable: true,\n  },\n  docker: {\n    host: '',\n    includeStopped: false,\n  },\n  scan: {\n    cron: '',\n    concurrency: 3,\n    cacheTTL: 10,\n    isUpdate: true,\n    allowComposeUpdate: false,\n  },\n  policy: {\n    skipLabels: ['watchdocker.skip=true'],\n    onlyLabels: [],\n    skipLocalBuild: true,\n    skipPinnedDigest: true,\n    skipSemverPinned: true,\n    floatingTags: ['latest', 'main', 'stable'],\n  },\n  registry: {\n    auth: [],\n  },\n  logging: {\n    level: 'info',\n  },\n})\n\n// 选项配置\nconst logLevelOptions = [\n  { label: 'Debug', value: 'debug' },\n  { label: 'Info', value: 'info' },\n  { label: 'Warn', value: 'warn' },\n  { label: 'Error', value: 'error' },\n]\n\nconst notifyMethodOptions = [\n  { label: 'GET', value: 'GET' },\n  { label: 'POST', value: 'POST' },\n]\n\n// Registry 主机选项\nconst registryHostOptions = [\n  {\n    label: 'docker.io',\n    value: 'docker.io',\n    description: 'Docker Hub 官方域名',\n  },\n  {\n    label: 'GitHub Container Registry',\n    value: 'ghcr.io',\n    description: 'GitHub 容器镜像仓库',\n  },\n]\n\n// 添加仓库认证\nconst addAuth = () => {\n  configForm.registry.auth.push({\n    host: '',\n    username: '',\n    token: '',\n  })\n}\n\n// 删除仓库认证\nconst removeAuth = (index: number) => {\n  configForm.registry.auth.splice(index, 1)\n}\n\n// 保存配置\nconst handleSave = async () => {\n  if (saving.value) {\n    return\n  }\n\n  saving.value = true\n  try {\n    const response = await configApi.saveConfig(configForm)\n    if (response.code === 0) {\n      message.success('配置保存成功')\n    } else {\n      throw new Error(response.msg || '保存失败')\n    }\n  } catch (error: any) {\n    message.error(`保存失败: ${error.message || '未知错误'}`)\n  } finally {\n    saving.value = false\n  }\n}\n\n// 加载配置\nconst loadConfig = async () => {\n  try {\n    const response = await configApi.getConfig()\n\n    if (response.code === 0 && response.data?.config) {\n      // 将服务器返回的配置合并到表单中\n      Object.assign(configForm, response.data.config)\n      message.success('配置加载成功')\n    } else {\n      throw new Error(response.msg || '获取配置失败')\n    }\n  } catch (error: any) {\n    message.error(`加载配置失败: ${error.message || '未知错误'}`)\n  }\n}\n\n// 页面初始化\nonMounted(async () => {\n  await loadConfig()\n})\n</script>\n\n<style scoped lang=\"less\">\n.welcome-card {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-direction: row;\n  height: 100%;\n}\n\n.settings-page {\n  .page-header {\n    margin-bottom: 16px;\n  }\n\n  .settings-content {\n    max-width: 800px;\n  }\n\n  .registry-auth-section {\n    .auth-item {\n      margin-bottom: 16px;\n    }\n  }\n}\n\n.registry-tips {\n  margin: 8px 0 0 0;\n  padding-left: 20px;\n\n  li {\n    margin: 4px 0;\n    color: var(--n-text-color);\n  }\n}\n\n.save-button-container {\n  width: 100%;\n  text-align: right;\n  padding-inline: 16px;\n}\n\n// 响应式调整\n@media (max-width: 768px) {\n  .settings-page {\n    .settings-content {\n      max-width: 100%;\n    }\n  }\n}\n</style>\n"],"mappings":"mYACA,IAAMA,EAAa,CACjB,MAAO,6BACP,cAAe,+BACf,QAAS,cACV,CACD,EAAe,EAAgB,CAC7B,KAAM,cACN,OAAQ,SAAgB,EAAM,EAAQ,CACpC,OACEC,GAAY,CACZC,EACE,MACAF,EACA,AACG,EAAO,KAAK,CACXG,EACE,OACA,CACE,EAAG,6TACH,KAAM,OACN,OAAQ,eACR,iBAAkB,QAClB,kBAAmB,QACnB,eAAgB,KACjB,CACD,KACA,GACD,CACF,CACJ,EAGN,CAAC,2LE0KF,IAAM,EAAU,GAAW,CAGrB,EAAS,EAAI,GAAK,CAElB,EAAuB,MAAe,CAC1C,IAAM,EAAO,wBAIX,OAHE,EAAW,OAAO,QAAU,MACvB,GAAG,EAAK,iEAER,GAAG,EAAK,UAElB,CAGK,EAAa,EAAiB,CAClC,OAAQ,CACN,KAAM,QACP,CACD,OAAQ,CACN,IAAK,GACL,OAAQ,MACR,SAAU,GACX,CACD,OAAQ,CACN,KAAM,GACN,eAAgB,GACjB,CACD,KAAM,CACJ,KAAM,GACN,YAAa,EACb,SAAU,GACV,SAAU,GACV,mBAAoB,GACrB,CACD,OAAQ,CACN,WAAY,CAAC,wBAAwB,CACrC,WAAY,EAAE,CACd,eAAgB,GAChB,iBAAkB,GAClB,iBAAkB,GAClB,aAAc,CAAC,SAAU,OAAQ,UAClC,CACD,SAAU,CACR,KAAM,EAAE,CACT,CACD,QAAS,CACP,MAAO,OAAA,CAEV,CAAA,CAGK,EAAkB,CACtB,CAAE,MAAO,QAAS,MAAO,QAAS,CAClC,CAAE,MAAO,OAAQ,MAAO,OAAQ,CAChC,CAAE,MAAO,OAAQ,MAAO,OAAQ,CAChC,CAAE,MAAO,QAAS,MAAO,SAC3B,CAEM,EAAsB,CAC1B,CAAE,MAAO,MAAO,MAAO,MAAO,CAC9B,CAAE,MAAO,OAAQ,MAAO,OAAQ,CAClC,CAGM,EAAsB,CAC1B,CACE,MAAO,YACP,MAAO,YACP,YAAa,kBACd,CACD,CACE,MAAO,4BACP,MAAO,UACP,YAAa,gBACd,CACH,CAGM,MAAgB,CACpB,EAAW,SAAS,KAAK,KAAK,CAC5B,KAAM,GACN,SAAU,GACV,MAAO,GACR,CAAA,EAIG,EAAc,GAAkB,CACpC,EAAW,SAAS,KAAK,OAAO,EAAO,EAAC,EAIpC,EAAa,SAAY,CACzB,MAAO,MAIX,GAAO,MAAQ,GACf,GAAI,CACF,IAAM,EAAW,MAAM,EAAU,WAAW,EAAU,CACtD,GAAI,EAAS,OAAS,EACpB,EAAQ,QAAQ,SAAQ,MAExB,MAAU,MAAM,EAAS,KAAO,OAAM,OAEjC,EAAY,CACnB,EAAQ,MAAM,SAAS,EAAM,SAAW,SAAQ,QACxC,CACR,EAAO,MAAQ,MAKb,EAAa,SAAY,CAC7B,GAAI,CACF,IAAM,EAAW,MAAM,EAAU,WAAU,CAE3C,GAAI,EAAS,OAAS,GAAK,EAAS,MAAM,OAExC,OAAO,OAAO,EAAY,EAAS,KAAK,OAAM,CAC9C,EAAQ,QAAQ,SAAQ,MAExB,MAAU,MAAM,EAAS,KAAO,SAAQ,OAEnC,EAAY,CACnB,EAAQ,MAAM,WAAW,EAAM,SAAW,SAAQ,UAKtD,EAAU,SAAY,CACpB,MAAM,GAAW,EAClB,mFA/UC,EAgMM,MAhMN,EAgMM,CA9LJ,EAsKM,MAtKN,EAsKM,CArKJ,EAoKU,EAAA,CApKD,SAAA,GAAS,KAAK,wBA+BZ,CApBT,EAoBS,EAAA,CApBD,MAAM,OAAO,SAAA,mBAmBV,CAlBT,EAkBS,EAAA,CAlBA,MAAO,EAAY,kBAAgB,OAAO,cAAY,wBAG/C,CAFd,EAEc,EAAA,CAFD,MAAM,OAAM,CAAA,eAC8D,CAArF,EAAqF,EAAA,CAApE,MAAO,EAAW,OAAO,iCAAP,OAAO,IAAG,EAAG,YAAa,EAAA,EAAA,0CAE/D,EAMc,EAAA,CAND,MAAM,OAAM,CAAA,eAKrB,CAJF,EAIE,EAAA,CAHQ,MAAO,EAAW,OAAO,oCAAP,OAAO,OAAM,EACtC,QAAS,EACV,YAAY,oCAGhB,EAEc,EAAA,CAFD,MAAM,OAAM,CAAA,eACgC,CAAvD,EAAuD,EAAA,CAArC,MAAO,EAAW,OAAO,sCAAP,OAAO,SAAQ,6BAErD,EAGU,EAAA,CAHD,MAAM,QAAQ,KAAK,OAAO,MAAM,uBAGzC,CAAA,GAAA,AAAA,EAAA,MAAA,CAAA,EAHgD,8EAGhD,GAAA,CAAA,CAAA,CAAA,mCAKJ,EASS,EAAA,CATD,MAAM,YAAY,SAAA,mBAQf,CAPT,EAOS,EAAA,CAPA,MAAO,EAAY,kBAAgB,OAAO,cAAY,wBAG/C,CAFd,EAEc,EAAA,CAFD,MAAM,YAAW,CAAA,eAC6C,CAAzE,EAAyE,EAAA,CAAxD,MAAO,EAAW,OAAO,kCAAP,OAAO,KAAI,EAAE,YAAY,sCAE9D,EAEc,EAAA,CAFD,MAAM,UAAS,CAAA,eACmC,CAA7D,EAA6D,EAAA,CAA3C,MAAO,EAAW,OAAO,4CAAP,OAAO,eAAc,yDAM/D,EAsBS,EAAA,CAtBD,MAAM,OAAO,SAAA,mBAqBV,CApBT,EAoBS,EAAA,CApBA,MAAO,EAAY,kBAAgB,OAAO,cAAY,wBAG/C,CAFd,EAEc,EAAA,CAFD,MAAM,WAAU,CAAA,eACkD,CAA7E,EAA6E,EAAA,CAA5D,MAAO,EAAW,KAAK,kCAAL,KAAK,KAAI,EAAE,YAAY,4CAE5D,EAEc,EAAA,CAFD,MAAM,MAAK,CAAA,eAC2D,CAAjF,EAAiF,EAAA,CAAzD,MAAO,EAAW,KAAK,yCAAL,KAAK,YAAW,EAAG,IAAK,EAAI,IAAK,8BAE7E,EAMc,EAAA,CAND,MAAM,QAAO,CAAA,eAKP,CAJjB,EAIiB,EAAA,CAJO,MAAO,EAAW,KAAK,sCAAL,KAAK,SAAQ,EAAG,IAAK,EAAG,YAAY,MACjE,OAAM,MACc,CAA7B,EAA6B,EAAA,CAArB,MAAM,IAAG,CAAA,eAAG,CAAA,GAAA,AAAA,EAAA,MAAA,CAAA,EAAF,KAAE,GAAA,CAAA,CAAA,CAAA,mCAI1B,EAEc,EAAA,CAFD,MAAM,SAAQ,CAAA,eAC4B,CAArD,EAAqD,EAAA,CAAnC,MAAO,EAAW,KAAK,sCAAL,KAAK,SAAQ,6BAEnD,EAEc,EAAA,CAFD,MAAM,kBAAiB,CAAA,eAC6B,CAA/D,EAA+D,EAAA,CAA7C,MAAO,EAAW,KAAK,gDAAL,KAAK,mBAAkB,yDAMjE,EAqBS,EAAA,CArBD,MAAM,OAAO,SAAA,mBAoBV,CAnBT,EAmBS,EAAA,CAnBA,MAAO,EAAY,kBAAgB,OAAO,cAAY,wBAG/C,CAFd,EAEc,EAAA,CAFD,MAAM,OAAM,CAAA,eACwC,CAA/D,EAA+D,EAAA,CAAvC,MAAO,EAAW,OAAO,yCAAP,OAAO,WAAU,6BAE7D,EAEc,EAAA,CAFD,MAAM,QAAO,CAAA,eACuC,CAA/D,EAA+D,EAAA,CAAvC,MAAO,EAAW,OAAO,yCAAP,OAAO,WAAU,6BAE7D,EAEc,EAAA,CAFD,MAAM,SAAQ,CAAA,eACoC,CAA7D,EAA6D,EAAA,CAA3C,MAAO,EAAW,OAAO,6CAAP,OAAO,eAAc,6BAE3D,EAEc,EAAA,CAFD,MAAM,SAAQ,CAAA,eACsC,CAA/D,EAA+D,EAAA,CAA7C,MAAO,EAAW,OAAO,+CAAP,OAAO,iBAAgB,6BAE7D,EAEc,EAAA,CAFD,MAAM,UAAS,CAAA,eACqC,CAA/D,EAA+D,EAAA,CAA7C,MAAO,EAAW,OAAO,+CAAP,OAAO,iBAAgB,6BAE7D,EAEc,EAAA,CAFD,MAAM,OAAM,CAAA,eAC0C,CAAjE,EAAiE,EAAA,CAAzC,MAAO,EAAW,OAAO,2CAAP,OAAO,aAAY,yDAMnE,EA2DS,EAAA,CA3DD,MAAM,OAAO,SAAA,mBA0Db,CAzDN,EAyDM,MAzDN,EAyDM,CAxDJ,EA0CU,EAAA,CA1CD,SAAA,GAAQ,CAAA,eACuC,EAAA,EAAA,GAAA,CAAtD,EA+BM,EAAA,KAAA,EA/BuB,EAAW,SAAS,MAApC,EAAM,SAAnB,EA+BM,MAAA,CA/BkD,IAAK,EAAO,MAAM,cACxE,EA6BS,EAAA,CA7BD,KAAK,QAAO,CAAA,CAwBP,OAAM,MAGJ,CAFX,EAEW,EAAA,CAFA,QAAK,GAAE,EAAW,EAAK,CAAG,KAAK,QAAQ,KAAK,QAAQ,MAAA,mBAE/D,CAAA,GAAA,AAAA,EAAA,MAAA,CAAA,EAFqE,OAErE,GAAA,CAAA,CAAA,CAAA,qCALO,CArBT,EAqBS,EAAA,CArBA,MAAO,EAAM,kBAAgB,OAAO,cAAY,uBASzC,CARd,EAQc,EAAA,CARD,MAAM,KAAI,CAAA,eAOnB,CANF,EAME,EAAA,CALQ,MAAO,EAAK,2BAAA,KAAI,EACvB,QAAS,EACV,WAAA,GACA,IAAA,GACA,YAAY,qEAGhB,EAEc,EAAA,CAFD,MAAM,MAAK,CAAA,eAC0C,CAAhE,EAAgE,EAAA,CAA/C,MAAO,EAAK,+BAAA,SAAQ,EAAE,YAAY,4DAErD,EAOc,EAAA,CAPD,MAAM,KAAI,CAAA,eAMnB,CALF,EAKE,EAAA,CAJQ,MAAO,EAAK,4BAAA,MAAK,EACzB,KAAK,WACL,mBAAiB,QACjB,YAAY,8GAatB,EAOW,EAAA,CAPA,QAAO,EAAS,KAAK,UAAU,OAAA,KAC7B,KAAI,MAGJ,CAFT,EAES,GAAA,KAAA,eADO,CAAd,EAAc,EAAA,EAAA,CAAA,CAAA,CAAA,uBAIpB,CAAA,AAAA,EAAA,MAAA,EAFa,WAEb,GAAA,CAAA,CAAA,eAGF,EAWU,EAAA,CAXD,MAAM,OAAO,KAAK,OAAO,MAAM,uBAUhC,CAAA,GAAA,AAAA,EAAA,MAAA,CATN,EASM,MAAA,KAAA,CARJ,EAAiC,MAAA,KAAA,CAA5B,EAAsB,SAAA,KAAd,QAAK,CAAA,CAAA,CAClB,EAMK,KAAA,CAND,MAAM,gBAAe,CAAA,CACvB,EAAiE,KAAA,KAAA,CAA7D,EAA4B,SAAA,KAApB,cAAW,CAAA,EAAS,+BAA4B,CAAA,CAAA,CAC5D,EAA6C,KAAA,KAAA,CAAzC,EAAwB,SAAA,KAAhB,UAAO,CAAA,EAAS,eAAY,CAAA,CAAA,CACxC,EAEK,KAAA,KAAA,CADH,EAAqB,SAAA,KAAb,OAAI,CAAA,EAAS,8CACvB,CAAA,CAAA,2BAQV,EAMS,EAAA,CAND,MAAM,OAAO,SAAA,mBAKV,CAJT,EAIS,EAAA,CAJA,MAAO,EAAY,kBAAgB,OAAO,cAAY,wBAG/C,CAFd,EAEc,EAAA,CAFD,MAAM,OAAM,CAAA,eACyD,CAAhF,EAAgF,EAAA,CAA9D,MAAO,EAAW,QAAQ,oCAAR,QAAQ,MAAK,EAAG,QAAS,wEAOvE,EASW,EAAA,CATD,GAAG,UAAU,MAAA,KACrB,EAOM,MAPN,EAOM,CANJ,EAKM,MAAA,KAAA,CAJJ,EAAqC,GAAA,CAA/B,MAAM,cAAa,CAAA,eAAK,CAAA,GAAA,AAAA,EAAA,MAAA,CAAA,EAAJ,OAAI,GAAA,CAAA,CAAA,CAAA,OAC9B,EAES,EAAA,CAFD,MAAM,IAAI,MAAM,wCAExB,CAAA,GAAA,AAAA,EAAA,MAAA,CAAA,EAFgD,6BAEhD,GAAA,CAAA,CAAA,CAAA,mBAMN,EASW,EAAA,CATD,GAAG,UAAU,MAAA,KACrB,EAOM,MAPN,EAOM,CANJ,EAKW,EAAA,CALD,KAAK,UAAU,KAAK,QAAS,QAAO,EAAa,QAAS,EAAA,QACvD,KAAI,MACE,CAAf,EAAe,EAAA,EAAA,CAAA,CAAA,CAAA,eAGnB,CAAA,AAAA,EAAA,MAAA,EAFa,SAEb,GAAA,CAAA,CAAA"}