{"version":3,"file":"network-CBrFw04G.js","names":["_openBlock","_createElementBlock","_createElementVNode"],"sources":["../../node_modules/.pnpm/@vicons+ionicons5@0.13.0/node_modules/@vicons/ionicons5/es/CloseOutline.js","../../src/store/network.ts"],"sourcesContent":["import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 512 512'\n}\nexport default defineComponent({\n  name: 'CloseOutline',\n  render: function render(_ctx, _cache) {\n    return (\n      _openBlock(),\n      _createElementBlock(\n        'svg',\n        _hoisted_1,\n        _cache[0] ||\n          (_cache[0] = [\n            _createElementVNode(\n              'path',\n              {\n                fill: 'none',\n                stroke: 'currentColor',\n                'stroke-linecap': 'round',\n                'stroke-linejoin': 'round',\n                'stroke-width': '32',\n                d: 'M368 368L144 144'\n              },\n              null,\n              -1 /* HOISTED */\n            ),\n            _createElementVNode(\n              'path',\n              {\n                fill: 'none',\n                stroke: 'currentColor',\n                'stroke-linecap': 'round',\n                'stroke-linejoin': 'round',\n                'stroke-width': '32',\n                d: 'M368 144L144 368'\n              },\n              null,\n              -1 /* HOISTED */\n            )\n          ])\n      )\n    )\n  }\n})\n","import { networkApi } from '@/common/api'\nimport type { NetworkInfo, NetworkStats, NetworkCreateRequest } from '@/common/types'\nimport { defineStore } from 'pinia'\nimport { computed, ref } from 'vue'\n\nexport const useNetworkStore = defineStore('network', () => {\n  // 状态\n  const networks = ref<NetworkInfo[]>([])\n  const loading = ref(false)\n\n  // 内置网络列表\n  const builtInNetworkNames = ['bridge', 'host', 'none']\n\n  // 计算属性 - 使用中的网络\n  const usedNetworks = computed(() => networks.value.filter((n) => n.containerCount > 0))\n\n  // 计算属性 - 未使用的网络\n  const unusedNetworks = computed(() => networks.value.filter((n) => n.containerCount === 0))\n\n  // 计算属性 - 内置网络\n  const builtInNetworks = computed(() =>\n    networks.value.filter((n) => builtInNetworkNames.includes(n.name)),\n  )\n\n  // 计算属性 - 自定义网络\n  const customNetworks = computed(() =>\n    networks.value.filter((n) => !builtInNetworkNames.includes(n.name)),\n  )\n\n  // 计算属性 - 统计信息\n  const stats = computed<NetworkStats>(() => {\n    return {\n      total: networks.value.length,\n      used: usedNetworks.value.length,\n      unused: unusedNetworks.value.length,\n      builtIn: builtInNetworks.value.length,\n      custom: customNetworks.value.length,\n    }\n  })\n\n  // 方法：获取网络列表\n  const fetchNetworks = async () => {\n    loading.value = true\n    try {\n      const data = await networkApi.getNetworks()\n      if (data.code === 0) {\n        networks.value = data.data.networks || []\n      } else {\n        console.error('获取网络列表失败:', data.msg)\n        throw new Error(data.msg)\n      }\n    } catch (error) {\n      console.error('获取网络列表失败:', error)\n      throw error\n    } finally {\n      loading.value = false\n    }\n  }\n\n  // 方法：创建网络\n  const createNetwork = async (data: NetworkCreateRequest) => {\n    try {\n      const response = await networkApi.createNetwork(data)\n      if (response.code === 0) {\n        await fetchNetworks() // 重新获取列表\n        return true\n      } else {\n        throw new Error(response.msg)\n      }\n    } catch (error) {\n      console.error('创建网络失败:', error)\n      throw error\n    }\n  }\n\n  // 方法：删除网络\n  const deleteNetwork = async (id: string) => {\n    try {\n      const response = await networkApi.deleteNetwork(id)\n      if (response.code === 0) {\n        await fetchNetworks() // 重新获取列表\n        return true\n      } else {\n        throw new Error(response.msg)\n      }\n    } catch (error) {\n      console.error('删除网络失败:', error)\n      throw error\n    }\n  }\n\n  // 方法：清理未使用的网络\n  const pruneNetworks = async () => {\n    try {\n      const response = await networkApi.pruneNetworks()\n      if (response.code === 0) {\n        await fetchNetworks() // 重新获取列表\n        return response.data\n      } else {\n        throw new Error(response.msg)\n      }\n    } catch (error) {\n      console.error('清理网络失败:', error)\n      throw error\n    }\n  }\n\n  // 方法：根据ID查找网络\n  const findNetworkById = (id: string) => {\n    return networks.value.find((n) => n.id === id || n.id.startsWith(id))\n  }\n\n  // 方法：根据名称查找网络\n  const findNetworkByName = (name: string) => {\n    return networks.value.find((n) => n.name === name)\n  }\n\n  return {\n    // 状态\n    networks,\n    loading,\n\n    // 计算属性\n    usedNetworks,\n    unusedNetworks,\n    builtInNetworks,\n    customNetworks,\n    stats,\n\n    // 方法\n    fetchNetworks,\n    createNetwork,\n    deleteNetwork,\n    pruneNetworks,\n    findNetworkById,\n    findNetworkByName,\n  }\n})\n"],"mappings":"+JACA,IAAM,EAAa,CACjB,MAAO,6BACP,cAAe,+BACf,QAAS,cACV,CACD,EAAe,EAAgB,CAC7B,KAAM,eACN,OAAQ,SAAgB,EAAM,EAAQ,CACpC,OACEA,GAAY,CACZC,EACE,MACA,EACA,AACG,EAAO,KAAK,CACXC,EACE,OACA,CACE,KAAM,OACN,OAAQ,eACR,iBAAkB,QAClB,kBAAmB,QACnB,eAAgB,KAChB,EAAG,mBACJ,CACD,KACA,GACD,CACDA,EACE,OACA,CACE,KAAM,OACN,OAAQ,eACR,iBAAkB,QAClB,kBAAmB,QACnB,eAAgB,KAChB,EAAG,mBACJ,CACD,KACA,GACD,CACF,CACJ,EAGN,CAAC,CCzCF,MAAa,EAAkB,EAAY,cAAiB,CAE1D,IAAM,EAAW,EAAmB,EAAE,CAAC,CACjC,EAAU,EAAI,GAAM,CAGpB,EAAsB,CAAC,SAAU,OAAQ,OAAO,CAGhD,EAAe,MAAe,EAAS,MAAM,OAAQ,GAAM,EAAE,eAAiB,EAAE,CAAC,CAGjF,EAAiB,MAAe,EAAS,MAAM,OAAQ,GAAM,EAAE,iBAAmB,EAAE,CAAC,CAGrF,EAAkB,MACtB,EAAS,MAAM,OAAQ,GAAM,EAAoB,SAAS,EAAE,KAAK,CAAC,CACnE,CAGK,EAAiB,MACrB,EAAS,MAAM,OAAQ,GAAM,CAAC,EAAoB,SAAS,EAAE,KAAK,CAAC,CACpE,CAGK,EAAQ,OACL,CACL,MAAO,EAAS,MAAM,OACtB,KAAM,EAAa,MAAM,OACzB,OAAQ,EAAe,MAAM,OAC7B,QAAS,EAAgB,MAAM,OAC/B,OAAQ,EAAe,MAAM,OAC9B,EACD,CAGI,EAAgB,SAAY,CAChC,EAAQ,MAAQ,GAChB,GAAI,CACF,IAAM,EAAO,MAAM,EAAW,aAAa,CAC3C,GAAI,EAAK,OAAS,EAChB,EAAS,MAAQ,EAAK,KAAK,UAAY,EAAE,MAGzC,MADA,QAAQ,MAAM,YAAa,EAAK,IAAI,CAC1B,MAAM,EAAK,IAAI,OAEpB,EAAO,CAEd,MADA,QAAQ,MAAM,YAAa,EAAM,CAC3B,SACE,CACR,EAAQ,MAAQ,KA8DpB,MAAO,CAEL,WACA,UAGA,eACA,iBACA,kBACA,iBACA,QAGA,gBACA,cAvEoB,KAAO,IAA+B,CAC1D,GAAI,CACF,IAAM,EAAW,MAAM,EAAW,cAAc,EAAK,CACrD,GAAI,EAAS,OAAS,EAEpB,OADA,MAAM,GAAe,CACd,GAEP,MAAU,MAAM,EAAS,IAAI,OAExB,EAAO,CAEd,MADA,QAAQ,MAAM,UAAW,EAAM,CACzB,IA6DR,cAxDoB,KAAO,IAAe,CAC1C,GAAI,CACF,IAAM,EAAW,MAAM,EAAW,cAAc,EAAG,CACnD,GAAI,EAAS,OAAS,EAEpB,OADA,MAAM,GAAe,CACd,GAEP,MAAU,MAAM,EAAS,IAAI,OAExB,EAAO,CAEd,MADA,QAAQ,MAAM,UAAW,EAAM,CACzB,IA8CR,cAzCoB,SAAY,CAChC,GAAI,CACF,IAAM,EAAW,MAAM,EAAW,eAAe,CACjD,GAAI,EAAS,OAAS,EAEpB,OADA,MAAM,GAAe,CACd,EAAS,KAEhB,MAAU,MAAM,EAAS,IAAI,OAExB,EAAO,CAEd,MADA,QAAQ,MAAM,UAAW,EAAM,CACzB,IA+BR,gBA1BuB,GAChB,EAAS,MAAM,KAAM,GAAM,EAAE,KAAO,GAAM,EAAE,GAAG,WAAW,EAAG,CAAC,CA0BrE,kBAtByB,GAClB,EAAS,MAAM,KAAM,GAAM,EAAE,OAAS,EAAK,CAsBnD,EACD"}